/*
 Swip: Comix-Ngn plugin
Adds swipe.js as a stage renderer
swipe: swipejs.com (MIT) (c) 2013 Brad Birdsall
Order: after comixngn.js
*/
!function(){if("undefined"!==typeof cG){if("undefined"===typeof n)var n=1;else n++;var p="swip";cG.REPO.stage=cG.REPO.stage||{};cG.stage=cG.REPO.stage[p]={id:"def",construct:function(n,p,I,C){var q=this;this.name=n;this.type="swipe";this.main=new function(m,e){function n(){k=c.children;E=k.length;2>k.length&&(e.continuous=!1);u.transitions&&e.continuous&&3>k.length&&(c.appendChild(k[0].cloneNode(!0)),c.appendChild(c.children[1].cloneNode(!0)),k=c.children);r=Array(k.length);d=m.getBoundingClientRect().width||
m.offsetWidth;c.style.width=k.length*d+"px";for(var b=k.length;b--;){var w=k[b];w.style.width=d+"px";w.setAttribute("data-index",b);u.transitions&&(w.style.left=b*-d+"px",g(b,a>b?-d:b>a?d:0,0))}e.continuous&&u.transitions&&(g(h(a-1),-d,0),g(h(a+1),d,0));u.transitions||(c.style.left=a*-d+"px");m.style.visibility="visible"}function q(){e.continuous?p(a+1):a<k.length-1&&p(a+1)}function h(b){return(k.length+b%k.length)%k.length}function p(b,w){if(a!=b){if(u.transitions){var c=Math.abs(a-b)/(a-b);if(e.continuous){var f=
c,c=-r[h(b)]/d;c!==f&&(b=-c*k.length+b)}for(f=Math.abs(a-b)-1;f--;)g(h((b>a?b:a)-f-1),d*c,0);b=h(b);g(a,d*c,w||t);g(b,0,w||t);e.continuous&&g(h(b-c),-(d*c),0)}else b=h(b),C(a*-d,b*-d,w||t);a=b;c=e.callback&&e.callback(a,k[a]);setTimeout(c||A,0)}}function g(b,a,c){v(b,a,c);r[b]=a}function v(b,a,c){(b=(b=k[b])&&b.style)&&(b.webkitTransitionDuration=b.MozTransitionDuration=b.msTransitionDuration=b.OTransitionDuration=b.transitionDuration=c+"ms",b.webkitTransform="translate("+a+"px,0)translateZ(0)",b.msTransform=
b.MozTransform=b.OTransform="translateX("+a+"px)")}function C(b,d,f){if(!f)return void(c.style.left=d+"px");var g=+new Date,h=setInterval(function(){var l=+new Date-g;l>f?(c.style.left=d+"px",x&&(B=setTimeout(q,x)),l=(e.transitionEnd&&e.transitionEnd.call(event,a,k[a]),void clearInterval(h))):l=void(c.style.left=Math.floor(l/f*100)/100*(d-b)+b+"px");return l},4)}function y(){x=0;clearTimeout(B)}var A=function(){},u={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&
document instanceof DocumentTouch,transitions:function(b){var a=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"],c;for(c in a)if(void 0!==b.style[a[c]])return!0;return!1}(document.createElement("swipe"))};if(m){var k,r,d,E,c=m.children[0];e=e||{};var a=parseInt(e.startSlide,10)||0,t=e.speed||300;e.continuous=void 0!==e.continuous?e.continuous:!0;var B,z,x=e.auto||0,F,G,H,f,D,l={handleEvent:function(a){switch(a.type){case "touchstart":this.start(a);break;case "touchmove":this.move(a);
break;case "touchend":var c=this.end(a);setTimeout(c||A,0);break;case "webkitTransitionEnd":case "msTransitionEnd":case "oTransitionEnd":case "otransitionend":case "transitionend":c=this.transitionEnd(a);setTimeout(c||A,0);break;case "resize":setTimeout(n||A,0)}e.stopPropagation&&a.stopPropagation()},start:function(a){a=a.touches[0];F=a.pageX;G=a.pageY;H=+new Date;D=f=z=void 0;c.addEventListener("touchmove",this,!1);c.addEventListener("touchend",this,!1)},move:function(b){if(!(1<b.touches.length||
b.scale&&1!==b.scale)){e.disableScroll&&b.preventDefault();var c=b.touches[0];f=c.pageX-F;D=c.pageY-G;void 0===z&&(z=!(!z&&Math.abs(f)>=Math.abs(D)));z||(b.preventDefault(),y(),e.continuous?(v(h(a-1),f+r[h(a-1)],0),v(a,f+r[a],0),v(h(a+1),f+r[h(a+1)],0)):(f/=!a&&0<f||a==k.length-1&&0>f?Math.abs(f)/d+1:1,v(a-1,f+r[a-1],0),v(a,f+r[a],0),v(a+1,f+r[a+1],0)))}},end:function(){var b=250>+(+new Date-H)&&20<Math.abs(f)||Math.abs(f)>d/2,m=!a&&0<f||a==k.length-1&&0>f;e.continuous&&(m=!1);var n=0>f;z||(b&&!m?
(n?(e.continuous?(g(h(a-1),-d,0),g(h(a+2),d,0)):g(a-1,-d,0),g(a,r[a]-d,t),g(h(a+1),r[h(a+1)]-d,t),a=h(a+1)):(e.continuous?(g(h(a+1),d,0),g(h(a-2),-d,0)):g(a+1,d,0),g(a,r[a]+d,t),g(h(a-1),r[h(a-1)]+d,t),a=h(a-1)),e.callback&&e.callback(a,k[a])):e.continuous?(g(h(a-1),-d,t),g(a,0,t),g(h(a+1),d,t)):(g(a-1,-d,t),g(a,0,t),g(a+1,d,t)));c.removeEventListener("touchmove",l,!1);c.removeEventListener("touchend",l,!1)},transitionEnd:function(b){parseInt(b.target.getAttribute("data-index"),10)==a&&(x&&(B=setTimeout(q,
x)),e.transitionEnd&&e.transitionEnd.call(b,a,k[a]))}};n();x&&(B=setTimeout(q,x));return u.addEventListener?(u.touch&&c.addEventListener("touchstart",l,!1),u.transitions&&(c.addEventListener("webkitTransitionEnd",l,!1),c.addEventListener("msTransitionEnd",l,!1),c.addEventListener("oTransitionEnd",l,!1),c.addEventListener("otransitionend",l,!1),c.addEventListener("transitionend",l,!1)),window.addEventListener("resize",l,!1)):window.onresize=function(){n()},{setup:function(){n()},slide:function(a,c){y();
p(a,c)},prev:function(){y();e.continuous?p(a-1):a&&p(a-1)},next:function(){y();q()},stop:function(){y()},getPos:function(){return a},getNumSlides:function(){return E},kill:function(){y();c.style.width="";c.style.left="";for(var a=k.length;a--;){var d=k[a];d.style.width="";d.style.left="";u.transitions&&v(a,0,0)}u.addEventListener?(c.removeEventListener("touchstart",l,!1),c.removeEventListener("webkitTransitionEnd",l,!1),c.removeEventListener("msTransitionEnd",l,!1),c.removeEventListener("oTransitionEnd",
l,!1),c.removeEventListener("otransitionend",l,!1),c.removeEventListener("transitionend",l,!1),window.removeEventListener("resize",l,!1)):window.onresize=null}}}}(void 0,C);this.main.go=function(m){m=null===m||void 0===m?0:void 0===m.value?0:parseInt(m.value,10);m=isNaN(m)?0:m;q.main.slide(Math.floor(Math.max(0,Math.min(p.pages.length-1,m))),400)};this.main.prev=function(){q.main.prev()};this.main.next=function(){q.main.next()};this.main.frst=function(){q.main.slide(0,400)};this.main.last=function(){q.main.slide(p.pages.length-
1,400)};this.main.rand=function(){q.main.slide(Math.floor(Math.random()*p.pages.length-1),400)};this.count=function(){return q.main.getNumSlides()};this.current=function(){return q.main.getPos()};n=document.createElement("style");n.setAttribute("id","scenography");n.appendChild(document.createTextNode('article,aside,b,body,dd,del,dfn,div,dl,dt,em,fieldset,footer,form,h1,h2,h3,h4,h5,h6,header,html,i,iframe,img,ins,kbd,label,li,nav,object,ol,p,q,samp,section,small,span,strong,table,tbody,td,tfoot,th,thead,tr,ul{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:0 0}body{-webkit-text-size-adjust:none;font-family:sans-serif;min-height:416px}h1{font-size:33px;margin:50px 0 15px;text-align:center;color:#212121}h2{font-size:14px;font-weight:700;color:#3c3c3c;margin:20px 10px 10px}small{margin:0 10px 30px;display:block;font-size:12px}a{margin:0 0 0 10px;font-size:12px;color:#3c3c3c}body,html{background:#f3f3f3}#console{font-size:12px;font-family:Inconsolata,Monaco,Consolas,"Andale Mono","Bitstream Vera Sans Mono","Courier New",Courier,monospace;color:#999;line-height:18px;margin-top:20px;max-height:150px;overflow:auto}#mySwipe div b{display:block;font-weight:700;color:#14ADE5;font-size:20px;text-align:center;margin:10px;padding:100px 10px;box-shadow:0 1px #EBEBEB;background:#fff;border-radius:3px;border:1px solid;border-color:#E5E5E5 #D3D3D3 #B9C1C6}.swipe{overflow:hidden;visibility:hidden;position:relative}.swipe-wrap{overflow:hidden;position:relative}.swipe-wrap>div{float:left;width:100%;position:relative}'))}};
n=document.getElementsByTagName("src");for(i=0;i<n.length&&(cG.root=src[i].getAttribute("plugin"),""==cG.root);i++);""==cG.root&&(cG.root=p);domReady(function(){})}else console.error("CNG Plug-in: "+p+" must be loaded after comixngn.js")}();