/*
 comix-ngn v1.4.0 | (c) 2015 Oluwaseun Ogedengbe| ogewan.github.io/comix-ngn/ |License: MIT|
embeds domReady: github.com/ded/domready (MIT) (c) 2013 Dustin Diaz, pegasus: typicode.github.io/pegasus (MIT) (c) 2014 typicode, pathjs (MIT) (c) 2011 Mike Trpcic, direction.js*/
var $jscomp={scope:{},owns:function(a,m){return Object.prototype.hasOwnProperty.call(a,m)}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,m,r){if(r.get||r.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[m]=r.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,m,r,y){if(m){r=$jscomp.global;a=a.split(".");for(y=0;y<a.length-1;y++){var z=a[y];z in r||(r[z]={});r=r[z]}a=a[a.length-1];y=r[a];m=m(y);m!=y&&null!=m&&$jscomp.defineProperty(r,a,{configurable:!0,writable:!0,value:m})}};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,r){for(var m=1;m<arguments.length;m++){var z=arguments[m];if(z)for(var A in z)$jscomp.owns(z,A)&&(a[A]=z[A])}return a}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var m=0;return $jscomp.iteratorPrototype(function(){return m<a.length?{done:!1,value:a[m++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(a,m){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var r=0,y={next:function(){if(r<a.length){var z=r++;return{value:m(z,a[z]),done:!1}}y.next=function(){return{done:!0,value:void 0}};return y.next()}};y[Symbol.iterator]=function(){return y};return y};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
(function(){var a=a||{};a.N=function(){return 0};void 0===a.$GPC&&(a.$GPC=0);a.root="";a.cPanel=a.cPanel||{};(function(){var d={fstrun:!0,pgepsh:!0,pgesve:!0,rtepge:!0,protect:!0,noverwrite:!0,arrow:!0,vscript:!1,click:!0};if(a.fBox)for(var c in d)a.fBox.hasOwnProperty(c)||(a.fBox[c]=d[c]);else a.fBox=d})();a.info={vix:"1.3.7",vwr:"2.0.0",vpr:"0.1.0",vxx:"0.0.2"};a.dis=a.dis||{};a.recyclebin=a.recyclebin||{};a.queue=a.queue||{};a.comicID=a.comicID||window.location.host;a.prePage=a.prePage||-1;a.controllers=
a.controllers||{};a.avx=a.avx||a.info.vix.split(".");a.info.vrb=1;Object.defineProperty(a,"script$",{get:function(){return a.script},set:function(d){if("string"===typeof d)try{d=JSON.parse(d)}catch(c){console.error("Script must be valid JSON")}a.comix.internals=d;a.comix.frst()}});a.verbose=function(d){var c=[],e=1,h=1;for(null===d||void 0===d||isNaN(parseInt(d,10))?h=0:e=d;h<arguments.length;h++)c.push(arguments[h]);(null===a.info.vrb||void 0===a.info.vrb?0:a.info.vrb)>=e&&console.log([].concat(c).join(" "))};
a.REPO=a.REPO||{};a.REPO.rdy={def:function(a){return"undefined"!=typeof module&&module.exports?module.exports=a():"function"==typeof define&&"object"==define.amd&&define(a),a()}(function(){var a,c=[],e="object"==typeof document&&document,h=e&&e.documentElement.doScroll,g=e&&(h?/^loaded|^c/:/^loaded|^i|^c/).test(e.readyState);return!g&&e&&e.addEventListener("DOMContentLoaded",a=function(){e.removeEventListener("DOMContentLoaded",a);for(g=1;a=c.shift();)a()}),function(a){g?setTimeout(a,0):c.push(a)}})};
a.REPO.agent={def:function(a,c){return c=new XMLHttpRequest,c.open("GET",a),a=[],c.onreadystatechange=c.then=function(d,h,g){if(d&&d.call&&(a=[,d,h]),4==c.readyState&&(g=a[0|c.status/200]))try{g(JSON.parse(c.responseText),c)}catch(k){g(c.responseText,c)}},c.send(),c}};a.REPO.director={def:function(){var a={version:"0.8.4",map:function(c){return a.routes.defined.hasOwnProperty(c)?a.routes.defined[c]:new a.core.route(c)},root:function(c){a.routes.root=c},rescue:function(c){a.routes.rescue=c},history:{initial:{},
pushState:function(c,e,d){a.history.supported?a.dispatch(d)&&history.pushState(c,e,d):a.history.fallback&&(window.location.hash="#"+d)},popState:function(c){c=!a.history.initial.popped&&location.href==a.history.initial.URL;a.history.initial.popped=!0;c||a.dispatch(document.location.pathname)},listen:function(c){a.history.supported=!(!window.history||!window.history.pushState);a.history.fallback=c;if(a.history.supported)a.history.initial.popped="state"in window.history,a.history.initial.URL=location.href,
window.onpopstate=a.history.popState;else if(a.history.fallback){for(route in a.routes.defined)"#"!=route.charAt(0)&&(a.routes.defined["#"+route]=a.routes.defined[route],a.routes.defined["#"+route].path="#"+route);a.listen()}}},match:function(c,e){var d={},g=null,k,t,l,v,f;for(g in a.routes.defined)if(null!==g&&void 0!==g)for(g=a.routes.defined[g],k=g.partition(),v=0;v<k.length;v++){t=k[v];f=c;if(0<t.search(/:/))for(l=0;l<t.split("/").length;l++)l<f.split("/").length&&":"===t.split("/")[l].charAt(0)&&
(d[t.split("/")[l].replace(/:/,"")]=f.split("/")[l],f=f.replace(f.split("/")[l],t.split("/")[l]));if(t===f)return e&&(g.params=d),g}return null},dispatch:function(c){var d;if(a.routes.current!==c){a.routes.previous=a.routes.current;a.routes.current=c;d=a.match(c,!0);a.routes.previous&&(c=a.match(a.routes.previous),null!==c&&null!==c.do_exit&&c.do_exit());if(null!==d)return d.run(),!0;null!==a.routes.rescue&&a.routes.rescue()}},listen:function(){var c=function(){a.dispatch(location.hash)};""===location.hash&&
null!==a.routes.root&&(location.hash=a.routes.root);"onhashchange"in window&&(!document.documentMode||8<=document.documentMode)?window.onhashchange=c:setInterval(c,50);""!==location.hash&&a.dispatch(location.hash)},core:{route:function(c){this.path=c;this.action=null;this.do_enter=[];this.do_exit=null;this.params={};a.routes.defined[c]=this}},routes:{current:null,root:null,rescue:null,previous:null,defined:{}}};a.core.route.prototype={to:function(a){this.action=a;return this},enter:function(a){a instanceof
Array?this.do_enter=this.do_enter.concat(a):this.do_enter.push(a);return this},exit:function(a){this.do_exit=a;return this},partition:function(){for(var a=[],d=[],h=/\(([^}]+?)\)/g,g;g=h.exec(this.path);)a.push(g[1]);d.push(this.path.split("(")[0]);for(h=0;h<a.length;h++)d.push(d[d.length-1]+a[h]);return d},run:function(){var c=!1,d,h;if(a.routes.defined[this.path].hasOwnProperty("do_enter")&&0<a.routes.defined[this.path].do_enter.length)for(d=0;d<a.routes.defined[this.path].do_enter.length;d++)if(h=
a.routes.defined[this.path].do_enter[d](),!1===h){c=!0;break}c||a.routes.defined[this.path].action()}};return a}()};a.REPO.producer={def:a.N};a.REPO.scReq=a.REPO.scReq||{};a.REPO.ctrls=a.REPO.ctrls||{def:""};a.REPO.decor=a.REPO.decor||{def:""};a.REPO.script=a.REPO.script||{def:""};a.agent=a.REPO.agent.def;a.director=a.REPO.director.def;a.producer=a.REPO.producer.def;a.ctrls=a.REPO.ctrls.def;a.decor=a.REPO.decor.def;a.script=a.REPO.script.def;a.rdy=a.REPO.rdy.def;if(1!=a.dis.rollbar){var m=m||{accessToken:"3e8e8ecb63a04b5798e1d02adf2608cb",
ignoredMessages:["CNG Plug-in:","status:"],captureUncaught:!0,captureUnhandledRejections:!0,payload:{environment:"development",client:{javascript:{source_map_enabled:!0,code_version:a.info.vix,guess_uncaught_frames:!0}}}};!function(a){function c(e){if(d[e])return d[e].exports;var g=d[e]={exports:{},id:e,loaded:!1};return a[e].call(g.exports,g,g.exports,c),g.loaded=!0,g.exports}var d={};return c.m=a,c.c=d,c.p="",c(0)}([function(a,c,e){a=e(1);c=e(4);m=m||{};m.rollbarJsUrl=m.rollbarJsUrl||"https://cdnjs.cloudflare.com/ajax/libs/rollbar.js/2.4.0/rollbar.min.js";
m.async=void 0===m.async||m.async;e=a.setupShim(window,m);c=c(m);window.rollbar=a.Rollbar;e.loadFull(window,document,!m.async,m,c)},function(a,c,e){function d(a){return function(){try{return a.apply(this,arguments)}catch(G){try{console.error("[Rollbar]: Internal error",G)}catch(n){}}}}function g(a,c){this.options=a;this._rollbarOldOnError=null;var d=l++;this.shimId=function(){return d};"undefined"!=typeof window&&window._rollbarShims&&(window._rollbarShims[d]={handler:c,messages:[]})}function k(a){return d(function(){var c=
Array.prototype.slice.call(arguments,0),c={shim:this,method:a,args:c,ts:new Date};window._rollbarShims[this.shimId()].messages.push(c)})}var t=e(2),l=0,v=e(3).bind(null,function(a,c){return new g(a,c)});g.prototype.loadFull=function(a,c,e,g,h){var f=!1,n=c.createElement("script");c=c.getElementsByTagName("script")[0];var k=c.parentNode;n.crossOrigin="";n.src=g.rollbarJsUrl;e||(n.async=!0);n.onload=n.onreadystatechange=d(function(){if(!(f||this.readyState&&"loaded"!==this.readyState&&"complete"!==
this.readyState)){n.onload=n.onreadystatechange=null;try{k.removeChild(n)}catch(E){}f=!0;var c;if(void 0===a._rollbarDidLoad){c=Error("rollbar.js did not load");for(var d,e,g,p=0;d=a._rollbarShims[p++];)for(d=d.messages||[];e=d.shift();)for(e=e.args||[],p=0;p<e.length;++p)if(g=e[p],"function"==typeof g){g(c);break}}"function"==typeof h&&h(c)}});k.insertBefore(n,c)};g.prototype.wrap=function(a,c,d){try{var e;if((e="function"==typeof c?c:function(){return c||{}},"function"!=typeof a)||a._isWrap)return a;
if(!a._rollbar_wrapped&&(a._rollbar_wrapped=function(){d&&"function"==typeof d&&d.apply(this,arguments);try{return a.apply(this,arguments)}catch(w){var c=w;throw c&&("string"==typeof c&&(c=new String(c)),c._rollbarContext=e()||{},c._rollbarContext._wrappedSource=a.toString(),window._rollbarWrappedError=c),c;}},a._rollbar_wrapped._isWrap=!0,a.hasOwnProperty))for(var f in a)a.hasOwnProperty(f)&&(a._rollbar_wrapped[f]=a[f]);return a._rollbar_wrapped}catch(q){return a}};c="log debug info warn warning error critical global configure handleUncaughtException handleUnhandledRejection captureEvent captureDomContentLoaded captureLoad".split(" ");
for(e=0;e<c.length;++e)g.prototype[c[e]]=k(c[e]);a.exports={setupShim:function(a,c){if(a){var e=c.globalAlias||"Rollbar";if("object"==typeof a[e])return a[e];a._rollbarShims={};a._rollbarWrappedError=null;var f=new v(c);return d(function(){c.captureUncaught&&(f._rollbarOldOnError=a.onerror,t.captureUncaughtExceptions(a,f,!0),t.wrapGlobals(a,f,!0));c.captureUnhandledRejections&&t.captureUnhandledRejections(a,f,!0);var d=c.autoInstrument;return!1!==c.enabled&&(void 0===d||!0===d||"object"==typeof d&&
d.network)&&a.addEventListener&&(a.addEventListener("load",f.captureLoad.bind(f)),a.addEventListener("DOMContentLoaded",f.captureDomContentLoaded.bind(f))),a[e]=f,f})()}},Rollbar:v}},function(a,c){function d(a,c,d){if(c.hasOwnProperty&&c.hasOwnProperty("addEventListener")){for(var e=c.addEventListener;e._rollbarOldAdd&&e.belongsToShim;)e=e._rollbarOldAdd;var g=function(c,d,g){e.call(this,c,a.wrap(d),g)};g._rollbarOldAdd=e;g.belongsToShim=d;c.addEventListener=g;for(var h=c.removeEventListener;h._rollbarOldRemove&&
h.belongsToShim;)h=h._rollbarOldRemove;g=function(a,c,d){h.call(this,a,c&&c._rollbar_wrapped||c,d)};g._rollbarOldRemove=h;g.belongsToShim=d;c.removeEventListener=g}}a.exports={captureUncaughtExceptions:function(a,c,d){if(a){var e;"function"==typeof c._rollbarOldOnError?e=c._rollbarOldOnError:a.onerror&&!a.onerror.belongsToShim&&(e=a.onerror,c._rollbarOldOnError=e);var g=function(){var d=Array.prototype.slice.call(arguments,0),f=e;a._rollbarWrappedError&&(d[4]||(d[4]=a._rollbarWrappedError),d[5]||
(d[5]=a._rollbarWrappedError._rollbarContext),a._rollbarWrappedError=null);c.handleUncaughtException.apply(c,d);f&&f.apply(a,d)};g.belongsToShim=d;a.onerror=g}},captureUnhandledRejections:function(a,c,d){if(a){"function"==typeof a._rollbarURH&&a._rollbarURH.belongsToShim&&a.removeEventListener("unhandledrejection",a._rollbarURH);var e=function(a){var d,e,g;try{d=a.reason}catch(n){d=void 0}try{e=a.promise}catch(n){e="[unhandledrejection] error getting `promise` from event"}try{g=a.detail,!d&&g&&(d=
g.reason,e=g.promise)}catch(n){}d||(d="[unhandledrejection] error getting `reason` from event");c&&c.handleUnhandledRejection&&c.handleUnhandledRejection(d,e)};e.belongsToShim=d;a._rollbarURH=e;a.addEventListener("unhandledrejection",e)}},wrapGlobals:function(a,c,e){if(a){var g,k,h="EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".split(" ");
for(g=0;g<h.length;++g)k=h[g],a[k]&&a[k].prototype&&d(c,a[k].prototype,e)}}}},function(a,c){function d(a,c){this.impl=a(c,this);this.options=c;h(d.prototype)}function h(a){for(var c=function(a){return function(){var c=Array.prototype.slice.call(arguments,0);if(this.impl[a])return this.impl[a].apply(this.impl,c)}},d="log debug info warn warning error critical global configure handleUncaughtException handleUnhandledRejection _createItem wrap loadFull shimId captureEvent captureDomContentLoaded captureLoad".split(" "),
e=0;e<d.length;e++)a[d[e]]=c(d[e])}d.prototype._swapAndProcessMessages=function(a,c){this.impl=a(this.options);for(var d,e,g;d=c.shift();)e=d.method,g=d.args,this[e]&&"function"==typeof this[e]&&("captureDomContentLoaded"===e||"captureLoad"===e?this[e].apply(this,[g[0],d.ts]):this[e].apply(this,g));return this};a.exports=d},function(a,c){a.exports=function(a){return function(c){if(!c&&!window._rollbarInitialized){a=a||{};for(var d,e=a.globalAlias||"Rollbar",h=window.rollbar,l=function(a){return new h(a)},
v=0;c=window._rollbarShims[v++];)d||(d=c.handler),c.handler._swapAndProcessMessages(l,c.messages);window[e]=d;window._rollbarInitialized=!0}}}}])}else window.console.debug("status: rollbar disabled");!function(){var d=document.getElementsByTagName("SCRIPT"),c=0;if(void 0!==d||null!==d){for(var e=0;e<d.length;e++)if(0<=d[e].src.indexOf("comixngn")){d=d[e];c=1;break}if(!c)return-1;a.comicID=a.comicID||d.getAttribute("comicID");void 0!==d.getAttribute("plugin")&&null!==d.getAttribute("plugin")&&(c=d.getAttribute("plugin").replace(/\s+/g,
"").split(","),a.root=c);if(void 0!==d.getAttribute("disable")&&null!==d.getAttribute("disable"))for(c=d.getAttribute("disable").replace(/\s+/g,"").split(","),e=0;e<c.length;e++)""!=c[e]&&void 0!==c[e]&&" "!=c[e]&&(a.dis[c[e]]=!0);void 0!==d.getAttribute("VERSION")&&null!==d.getAttribute("VERSION")&&(a.info.vix=d.getAttribute("VERSION"));void 0!==d.getAttribute("air")&&null!==d.getAttribute("air")&&(a.recyclebin.air=d.getAttribute("air"));void 0!==d.getAttribute("fBox")&&null!==d.getAttribute("fBox")&&
(a.fBox=JSON.parse(d.getAttribute("fBox")))}}();!function(){for(var d,c,e=document.getElementsByTagName("SCRIPT"),h=0;h<e.length;h++)if(0<=e[h].src.indexOf("comixngn")||0<=e[h].src.indexOf(".cng.")){d=e[h].getAttribute("dir");c=e[h].getAttribute("tir");break}d=d||"";c=c||"";""==a.root&&(a.root="def");void 0===a.REPO.scReq.getScript&&(a.REPO.scReq.getScript=a.agent(d+"script.json"),a.REPO.scReq.getScript.then(function(c,d){a.script=a.REPO.script.def=c},function(c,e){4<=a.info.vrb?console.error(c,e.status):
1<=a.info.vrb&&a.verbose(1,d+"script.json not found");a.script=a.REPO.script.def=0}));void 0===a.REPO.scReq.getDecor&&(a.REPO.scReq.getDecor=a.agent(c+"decor.html"),a.REPO.scReq.getDecor.then(function(c,d){a.decor=a.REPO.decor.def=c},function(c,d){4<=a.info.vrb&&console.error(c,d.status);a.decor=a.REPO.decor.def=0}));void 0===a.REPO.scReq.getCtrls&&(a.REPO.scReq.getCtrls=a.agent(c+"ctrls.html"),a.REPO.scReq.getCtrls.then(function(c,d){a.ctrls=a.REPO.ctrls.def=c},function(c,d){4<=a.info.vrb&&console.error(c,
d.status);a.ctrls=a.REPO.ctrls.def=0}))}();a.REPO.stage=function(d){return{def:{id:"def",construct:function(c,e,h,g){g=e.config;var k=e.loading,t=e.pages,l=-1,t=t?t.map(function(a){return a.url[0]}):[],v={};r(e)&&(r(g)&&(v=Object.assign({dir:g.dir,imgprebuffer:g.imgprebuffer,imgpostbuffer:g.imgpostbuffer},v)),r(k)&&(v=Object.assign({lines:k.lines,rate:k.rate,diameter:k.diameter,back:k.back,color:k.color},v)));"undefined"!==typeof Storage&&(l=parseInt(localStorage.getItem(a.comicID+"|"+c+"|curPage"),
10),a.verbose(1,a.comicID+"|"+c+"|curPage",":",l));r(a.comix)&&(l=a.prePage);0>l&&(l=g.startpage);var f=new d(t,Object.assign({anchor:h,overwrite:l},v));f.name=c;f.type="def";f.pg=[h];f.at=0;f.my=0;f.internals=e||{pages:[],chapters:[],config:{},loading:{}};f.commitSwap=function(){var a=f.internals,c=a.pages.map(function(a){return a.url[0]}),d={},e=a.config,g=a.loading;r(a)&&(r(e)&&(void 0!==e.dir&&(d.dir=e.dir),void 0!==e.imgprebuffer&&(d.imgprebuffer=e.imgprebuffer),void 0!==e.imgpostbuffer&&(d.imgpostbuffer=
e.imgpostbuffer)),void 0!==a.loading&&null!==a.loading&&(void 0!==g.lines&&(d.lines=g.lines),void 0!==g.rate&&(d.rate=g.rate),void 0!==g.diameter&&(d.diameter=g.diameter),void 0!==g.back&&(d.loaderback=g.back),void 0!==g.color&&(d.color=g.color)));f.swap(c,d)};var G=f.data;f.data=function(a){a=G(a);return r(a)?a:{}};f.navto=function(a){return null!==a&&void 0!==a&&a<f.pg.length?f.pg[a]._nav():f.pg[f.my]._nav()};f.ch_data=function(a){var c=f.internals.chapters;a=null===a||void 0===a?f.ch_current():
a;return-1==f.ch_current()?{}:isNaN(a)?c[f.ch_current()]:c[a]};f.ch_count=function(){return f.internals.chapters.length};f.ch_current=function(){for(var a=f.internals.chapters,c=f.current(),d=0;d<a.length;d++)if(a[d].start<=c&&c<=a[d].end)return d;return-1};f.ch_go=function(a,c){var d=null===a||void 0===a?0:a,d=isNaN(d)?0:d,e;e=null===c&&void 0===c?"start":"end";return-1==f.ch_current()?f.go():f.go(f.internals.chapters[Math.floor(Math.max(0,Math.min(f.internals.chapters.length-1,d)))][e])};f.ch_prev=
function(a){if(-1==f.ch_current())return f.go();a=null===a&&void 0===a?"start":"end";return f.go(f.internals.chapters[Math.max(0,f.ch_current()-1)][a])};f.ch_next=function(a){if(-1==f.ch_current())return f.go();a=null===a&&void 0===a?"start":"end";return f.go(f.internals.chapters[Math.min(f.ch_count()-1,f.ch_current()+1)][a])};f.ch_frst=function(a){return-1==f.ch_current()?f.go():f.go(f.internals.chapters[0][null===a&&void 0===a?"start":"end"])};f.ch_last=function(a){if(-1==f.ch_current())return f.go();
a=null===a&&void 0===a?"start":"end";return f.go(f.internals.chapters[f.ch_count()-1][a])};f.callback(1,function(){a.fBox.pgesve&&localStorage.setItem(a.comicID+"|"+c+"|curPage",a.cPanel[c].current().toString());if(a.comix===a.cPanel[c]&&a.script.config){var d=a.script.config,e=d.orderby,f=d.dateformat,g=d.chapterstartnum?1:0,d=d.pagestartnum?1:0,k=a.cPanel[c].current();switch(e){case 1:console.log(k);f=a.cPanel[c].ch_current();k=f+g+"/"+(k-a.cPanel[c].internals.chapters[f].start+d);break;case 2:g=
new Date(1E3*a.cPanel[c].data().release);f=f.split("/");for(e=0;3>e;e++)f[e].indexOf("Y")+1?f[e]=g.getFullYear()-100+2E3:f[e].indexOf("M")+1?f[e]=g.getMonth()+1:f[e].indexOf("D")+1&&(f[e]=g.getDate());k=f.join("/");break;default:k+=d}a.verbose(1,c,"Pushing state:",k);a.fBox.pgepsh&&history.pushState({},"","#/"+k)}if(void 0!==a.queue.stageChange)for(var l in a.queue.stageChange)if(a.queue.stageChange.hasOwnProperty(l))a.queue.stageChange[l](a.cPanel[c]);l=a.cPanel[c].data(a.cPanel[c].current()).special;
e=document.getElementById(c+"_tempScript");f=z(a.cPanel[c].canvi[0],null,null,0);g=z(a.cPanel[c].canvi[1],null,null,1);void 0!==e&&null!==e&&(h.removeChild(e),f._show(),g._show());null!==l&&void 0!==l&&""!=l&&(e=document.createElement("SPAN"),e.setAttribute("id",c+"_tempScript"),e.innerHTML=l,h.appendChild(e),f._hide(),g._hide())});a.comix=a.fBox.protect?a.comix||f:f;return f}}}};a.REPO.stage=a.REPO.stage(function(a,c){a=a||[];c=c||{};var d=document,h=d.body,g=d.documentElement,k=parseInt,t=window.requestAnimationFrame,
l=c.overwrite||0,v=c.anchor||h,f=a.slice().map(function(a){return{s:a}}),G=!0,n=-1,u=-1,p=[c.disableSpin?null:d.createElement("canvas"),d.createElement("canvas")],q=p[0]?{ctx:p[0].getContext("2d"),clr:c.color||"#373737",str:Date.now(),lne:c.lines||16,rte:c.rate||1E3/30,dia:c.diameter||250,lbk:c.loaderback||"#FFF"}:null,w={dir:c.dir||"",irb:c.imgprebuffer||5,itb:c.imgpostbuffer||5,bck:c.back||"#FFF",sz:c.size||0,scl:0},r=[],m=[],x=new Image,y=!0,z=p[1].getContext("2d"),D={run:function(a){for(var c=
0;c<D[a].length;c++)D[a][c]()},start:[],slidn:[],slidd:[]},E=function(){if(q){p[0].style.paddingLeft=(p[1].width-300)/2+"px";var a=Math.floor((Date.now()-q.str)/1E3*q.lne)/q.lne,c=q.clr.substr(1);q.ctx.save();q.ctx.clearRect(0,0,300,p[1].height);q.ctx.translate(150,p[1].height/2);q.ctx.rotate(2*Math.PI*a);3==c.length&&(c=c[0]+C[0]+c[1]+c[1]+c[2]+c[2]);for(var a=k(c.substr(0,2),16).toString(),d=k(c.substr(2,2),16).toString(),c=k(c.substr(4,2),16).toString(),e=0;e<q.lne;e++)q.ctx.beginPath(),q.ctx.rotate(2*
Math.PI/q.lne),q.ctx.moveTo(q.dia/10,0),q.ctx.lineTo(q.dia/4,0),q.ctx.lineWidth=q.dia/30,q.ctx.strokeStyle="rgba("+a+","+d+","+c+","+e/q.lne+")",q.ctx.stroke();q.ctx.restore();G?t(E):q.ctx.clearRect(0,0,300,p[1].height)}},A=function(a,c){if(null===a||void 0===a)a={x:0,y:0};else if(isNaN(a)){if(null===a.y||void 0===a.y)a.y=0;if(null===a.x||void 0===a.x)a.x=0}else a={x:0,y:a};if(null===c||void 0===c||0>=c)c=400;0>a.y&&(a.y=window.innerHeight||g.clientHeight||h.clientHeight);0>a.x&&(a.x=window.innerWidth||
g.clientWidth||h.clientWidth);var d={x:void 0!==window.pageXOffset?a.x-window.pageXOffset:a.x-g.scrollLeft,y:void 0!==window.pageYOffset?a.y-window.pageYOffset:a.y-g.scrollTop};if(d=={x:0,y:0})return d;var e=function(a,c,d){window.scrollBy(Math.floor(a.x)/c,Math.floor(a.y)/c);d+1<5*c&&(n=window.setTimeout(e,5,a,c,d+1))};n=window.setTimeout(e,5,d,Math.floor(c/5),0);return d},d=function(){f[this.virID].ld=!0},F=function(a,c){G=!0;t(E);D.run("start");0>c&&(c=0);c>=f.length&&(c=f.length-1);if(!(0>c)){f[c].ld||
z.clearRect(0,0,p[1].width,p[1].height);a.virID=c;a.src=w.dir+f[c].s;u=c;var d=0,e;for(e=c-1;e>c-w.irb-1&&0<=e;e--)f[e].ld||(m[d].virID=e,m[d].src=w.dir+f[e].s,d++);d=0;for(e=c+1;e<w.itb+c+1&&e<f.length;e++)f[e].ld||(r[d].virID=e,r[d].src=w.dir+f[e].s,d++)}},K=function(a,c){if(a)for(var d in c)a.hasOwnProperty(d)&&(a[d]=c[d])};window.jQuery&&function(){try{jQuery.fn.direction=function(a,c,d){return this.each(function(){direction(a,$(this),c,d)})}}catch(M){console.log(M)}}();this.canvi=p;this.cb=D;
this.cnl=function(){window.clearTimeout(n)};this.swap=function(a,c,d){f=Array.isArray(a)?a.slice().map(function(c,d){return{s:c,d:d?d==a.length-1?1:0:-1}}):f;c&&(K(q,c),K(w,c));this.go(d||0)};this.count=function(){return f.length};this.current=function(){return u};this.callback=function(a,c,d,e){if(null===a||void 0===a)return D.slidn;a={"-1":D.start,0:D.slidn,1:D.slidd}[d||0];if(e)return a.splice(d||a.length-1,1);if(null===c||void 0===c)return null===d||void 0===d?a:a[d];null===d||void 0===d?a.push(c):
a[d]=c;return 1};this.go=function(a){a=null===a||void 0===a?0:k(a,10);a=isNaN(a)?0:a;F(x,Math.floor(Math.max(0,Math.min(f.length-1,a))));return a};this.prev=function(){var a=u-1;0<=a&&F(x,a);return a};this.next=function(){var a=u+1;a<f.length&&F(x,a);return a};this.frst=function(){0<=u&&F(x,0);return 0};this.last=function(){F(x,f.length-1);return f.length-1};this.rand=function(){var a=Math.floor(Math.random()*(f.length-1));F(x,a);return a};this.data=function(a){a=null===a||void 0===a?u:k(a,10);return isNaN(a)?
f[u]:f[Math.floor(Math.max(0,Math.min(f.length-1,a)))]};this.scroll=function(a){null!==a&&void 0!==a&&(y=a);return y};this.scrollTo=function(a,c){return A(a,c)};q&&(p[0].height=480,p[0].style.background=q.lbk,p[0].style.paddingLeft="170px",p[0].style.zIndex=0,p[0].style.position="absolute");q&&v.appendChild(p[0]);t(E);x=new Image;x.virID=-1;x.addEventListener("load",function(){var a;f[x.virID].ld?z.clearRect(0,0,p[1].width,p[1].height):f[x.virID].ld=!0;D.run("slidn");if(w.sz)a=[w.sz.w,w.sz.h];else switch(w.scl){case 1:a=
p[1].width/x.width;a=[p[1].width,x.height*a];break;case 2:a=p[1].height/x.height;a=[x.width*a,p[1].height];break;default:a=w.scl?[p[1].width,p[1].height]:[x.width,x.height]}p[1].width=a[0];p[1].height=a[1];q&&(p[0].height=a[1]);z.drawImage.apply(z,[x,0,0].concat(a));G=0;y&&A();D.run("slidd")},!1);var B;for(B=0;B<f.length;B++)f[B].d=B?B==f.length-1?1:0:-1,f[B].ld=!1;for(B=0;B<w.irb;B++)m.push(new Image),m[B].virID=-1,m[B].addEventListener("load",d,!1);for(B=0;B<w.itb;B++)r.push(new Image),r[B].virID=
-1,r[B].addEventListener("load",d,!1);F(x,w.startpage||l);p[1].height=480;p[1].width=640;p[1].background=w.bck;p[1].style.zIndex=1;p[1].style.position="relative";v.appendChild(p[1])});a.stage=a.REPO.stage.def;a.queue.stageChange=a.queue.stageChange||{};a.queue.stageChange.hotcontent=function(){for(var d=document.getElementsByClassName("cg-hot"),c=[],e=0;e<d.length;e++)c.push({place:d[e].parentNode,time:d[e]});for(;d.length;)(e=d[0].parentNode)&&e.removeChild(d[0]);for(d=0;d<c.length;d++)console.log("queued stuff",
a.info.vrb,c[d]),(e=c[0].place)&&e.appendChild(c[d].time)};a.queue.stageChange.controller=function(a){for(var c,d,h,g,k,t=a.data().d,l=0;l<a.brains.length;l++){k=A(a.brains[l],["frst","last","prev","next","rand"]);for(var r=0;r<k.length;r++){c=k[r];d=c.getAttribute("class");g=(h=a.brains[l].getAttribute("nohide"))?h:"disable";if(("frst"==d||"prev"==d)&&-1==t)"frst"==d?c.setAttribute("class","frst "+g):c.setAttribute("class","prev "+g),h||c.setAttribute("style","display:none;");else if(d=="frst "+
g||d=="prev "+g)d=="frst "+g?c.setAttribute("class","frst"):c.setAttribute("class","prev"),h||c.setAttribute("style","display:inline;");if(("last"==d||"next"==d)&&1==t)"last"==d?c.setAttribute("class","last "+g):c.setAttribute("class","next "+g),h||c.setAttribute("style","display:none;");else if(d=="last "+g||d=="next "+g)d=="last "+g?c.setAttribute("class","last"):c.setAttribute("class","next"),h||c.setAttribute("style","display:inline;")}}};var r=function(a){return-1==a||""===a||void 0===a||null==
a?!1:!0},y=function(a,c,e){var d;e=isNaN(e)?0:e;var g=c[a.nodeName.toLowerCase()];if(void 0!==g&&0>=e){if(void 0===g.count||0!=g.count){d=Object.keys(g);for(var k=0;k<d.length;k++)"count"!=d[k]&&("innerHTML"==d[k]?a.innerHTML=g[d[k]]:a.setAttribute(d[k],g[d[k]]));0<g.count&&c[a.nodeType].count--}}else e--;for(d=0;d<a.children.length;d++)y(a.children[d],c,e)},z=function(a,c,e,h){var d=[function(a){if(void 0!==c||null!==c)return c.splice(a,0,this),this._pos=a},function(a){if(void 0!==c||null!==c){var d=
c[this._pos];c[this._pos]=c[a];c[a]=d;return this._pos=a}},function(){if(void 0!==e||null!==e){e.at=this._pos;this._show();for(var a=this._pos,d=0;d<c.length;d++)this._pos!=d&&c[d]._hide();this._chain.length&&(a=[a]);for(d=0;d<this._chain.length;d++)this._chain[d]._show(),a.push(d);return a}},function(){null===this.style.display||void 0===this.style.display?this.setAttribute("style",this.getAttribute("style")+"display: block;"):this.style.display="block";return this._pos},function(){null===this.style.display||
void 0===this.style.display?this.setAttribute("style",this.getAttribute("style")+"display: none;"):this.style.display="none";return this._pos},function(){null===this.style.visibility||void 0===this.style.visibility?this.setAttribute("style",this.getAttribute("style")+"visibility:hidden;"):this.style.visibility="hidden";return this._pos},function(){null===this.style.visibility||void 0===this.style.visibility?this.setAttribute("style",this.getAttribute("style")+"visibility: visible;"):this.style.visibility=
"visible";return this._pos},function(a){if(void 0!==c||null!==c)return this._chain.push(c[a]),a},function(a){if(void 0!==c||null!==c)return this._chain.splice(this._chain.indexOf(c[a]),1)},function(a){if(void 0!==c||null!==c)return this._chain.push(c[a]),c[a]._chain.push(this),[a,this._pos]},function(a){if(void 0!==c||null!==c)return this._chain.splice(this._chain.indexOf(c[a]),1).concat(c[a]._chain.splice(c[a]._chain.indexOf(this._pos),1))}];a._order=d[0];a._switch=d[1];a._nav=d[2];a._show=d[3];
a._hide=d[4];a._cloak=d[5];a._uncloak=d[6];a._link=d[7];a._unlink=d[8];a._bind=d[9];a._unbind=d[10];a._pos=h;a._chain=[];return a},A=function(a,c){for(var d=[],h,g=a.className.split(" "),k=0;k<g.length&&!(h=c.indexOf(g[k])+1);k++);h&&d.push(a);for(h=0;h<a.children.length;h++)d=d.concat(A(a.children[h],c));return d},L=function(a,c,e,h){for(var d=0;d<c.children.length;d++)L(!0,c.children[d],e,h);a&&(a=void 0===e?"":e+"_",h=void 0===h?"":"_"+h,c.setAttribute("id",a+c.getAttribute("id")+h),""!==c.className&&
(c.className=" "+a+c.className))};a.controlInjection=function(d){!a.documentcontrolkeyset&&a.fBox.arrow&&(a.documentcontrolkeyset=!0,document.onkeyup=function(c){c=c||window.event;a.comix.cnl();37==c.keyCode?a.comix.prev():39==c.keyCode?a.comix.next():82==c.keyCode&&a.comix.rand()},document.onwheel=function(c){a.comix.cnl()});var c=a.ctrls?a.ctrls:'<ul><li style="display: inline;"><button class="frst" >|&lt;</button></li><li style="display: inline;"><button class="prev" rel="prev" accesskey="p">&lt; Prev</button></li><li style="display: inline;"><button class="rand" >Random</button></li><li style="display: inline;"><button class="next" rel="next" accesskey="n">Next &gt;</button></li><li style="display: inline;"><button class="last" >&gt;|</button></li></ul>',
e,h=function(c,d,e){for(var f=""+d.id,g=function(){var e=a.cPanel[f].data(a.cPanel[f][c]()),g=document.getElementById(f),h=document.getElementById(f+"_location"),l=[],k=[];h&&(h.title=e.hover);g&&g.getAttribute("comix")&&(l=document.getElementsByClassName("cgtitle"),k=document.getElementsByClassName("cgdate"));for(g=0;g<l.length;g++)l[g].innerHTML=e.title;for(g=0;g<k.length;g++)e=new Date(1E3*a.cPanel[d.id].data().release),k[g].innerHTML=e.toDateString()},h=document.getElementsByClassName(c),l=0;l<
h.length;l++)e.getAttribute("cglink")!=f||h[l].getAttribute("cgae")||(h[l].addEventListener("click",g),h[l].setAttribute("cgae","1"))},g=function(c,d){c.setAttribute("mind","1");document.getElementById(c.id+"_location").title=a.cPanel[c.id].data().hover||"";for(var e=c.getAttribute("comix")?document.getElementsByClassName("cgtitle"):[],f=c.getAttribute("comix")?document.getElementsByClassName("cgdate"):[],g=0;g<e.length;g++)e[g].innerHTML=a.cPanel[c.id].data().title;for(g=0;g<f.length;g++)e=new Date(1E3*
a.cPanel[c.id].data().release),f[g].innerHTML=e.toDateString();["frst","prev","rand","next","last"].forEach(function(a){h(a,c,d)})},k=document.querySelectorAll("[cglink]"),t;d=document.getElementsByClassName("venue");for(var l=0;l<k.length;l++)t=k[l].getAttribute("cglink"),r(a.cPanel[t])&&(a.cPanel[t].brains=a.cPanel[t].brains||[],a.cPanel[t].brains.push(k[l]),g(document.getElementById(t),k[l]));for(k=0;k<d.length;k++)if(!d[k].getAttribute("mind")){var m=d[k];t=m.id;l=m.parentNode;m=m.nextSibling;
e=document.createElement("DIV");var f=a.script.config;e.innerHTML=(d[k].getAttribute("readdir")||f&&f.readdir)&&!a.ctrls?'<ul><li style="display: inline;"><button class="last" >&lt;|</button></li><li style="display: inline;"><button class="next" rel="next" accesskey="n">Next &lt;</button></li><li style="display: inline;"><button class="rand" >Random</button></li><li style="display: inline;"><button class="prev" rel="prev" accesskey="p">&gt; Prev</button></li><li style="display: inline;"><button class="frst" >|&gt;</button></li></ul>':
c;e=e.children[0];d[k].getAttribute("comix")?e.setAttribute("style","display:block;"):e.setAttribute("style","display:none;");e.setAttribute("cglink",t);l&&l.insertBefore(e,m);a.fBox.click&&(a.cPanel[t].canvi[1].style.cursor="pointer",a.cPanel[t].canvi[1].addEventListener("click",a.cPanel[t].next));a.cPanel[t].brains=a.cPanel[t].brains||[];a.cPanel[t].brains.push(e);g(d[k],e)}};a.stageInjection=function(){var d=document.getElementsByClassName("venue");r(a.recyclebin.air)&&(a.script.config.dir=a.recyclebin.air);
a.REPO.scReq.address=a.REPO.scReq.address||a.recyclebin.dir;for(var c in a.recyclebin)a.recyclebin.hasOwnProperty(c)&&null!==c&&(a.recyclebin[c]=null);var e=a.cPanel,h=a.decor?a.decor:'<div id="location"></div><div id="archive">Archive</div><div id="me">About Me</div>',g=[],k=function(c,g,f,h,n,m){if(!r(m))return m=g.getAttribute("script"),h.push(a.agent(m).then(function(a,d){k(c,g,f,h,n,JSON.stringify(a))},function(a,d){console.error(a,d.status);k(c,g,f,h,n,{})})),0;var l=g.getAttribute("id");g.getAttribute("use");
var q=g.getAttribute("config"),t={},u=document.createElement("DIV");u.setAttribute("id",l||f+"_"+c);u.setAttribute("style","display:none;");e[n+"_"+c]=a.stage.construct(l||f+"_"+c,m,u,q||t);d[c].appendChild(u);e[n].pg.push(u);e[n+"_"+c].my=c},m=function(c,t){a.fBox.noverwrite||(d[c].innerHTML="");var f,l={};if(r(t))f=t;else{var n=d[c].getAttribute("script");if(r(!n)||!c)f=a.script;else return g.push(a.agent(n).then(function(a,d){m(c,JSON.stringify(a))},function(a,d){console.error(a,d.status);m(c,
{})})),0}var n=f,u=n.config,p=n.pages,q=n.chapters,n=d[c].getAttribute("id"),w=d[c].getAttribute("use"),v=d[c].getAttribute("config");d[c].setAttribute("cgcij","1");if(!r(n)){for(var n="STG"+c,A=1;document.getElementById(n);)n="STG"+(c+A++);n=n.toString();d[c].setAttribute("id",n)}r(w)||(w="def");if(""!==v)try{l=JSON.parse(v)}catch(K){console.debug("The following configuration settings are malformed for plugin["+w+"]: ",v,"\nIt has been ignored")}var w=[],v=[],x=d[c].children;d[c].innerHTML=h;L(!1,
d[c],n);A=document.getElementById(n+"_location");r(A)?A=d[c]:y(d[c],{div:{style:"display: none;"}},1);A.style.display="block";var I=document.getElementById(n+"_archive");if(r(I)){var H="<ul>",D="<ul>",E="<ul>",J=0,F=0;u&&u.pagestartnum&&(F=1);u&&u.chapterstartnum&&(J=1);for(u=0;p&&u<p.length;u++)H=H+"<li onclick=\"cG.cPanel['"+n+"'].go("+u+");this.parentElement.parentElement.style.display='none';document.getElementById('"+n+"_location').style.display='block';\" style=\"display:block;\">"+(u+F)+"</li>";
for(p=0;q&&p<q.length;p++){D=D+"<li onclick=\"cG.cPanel['"+n+"'].ch_go("+p+");this.parentElement.parentElement.style.display='none';document.getElementById('"+n+"_location').style.display='block';\" style=\"display:block;\">"+(p+J)+"</li>";E=E+"<li onclick=\"cG.cPanel['"+n+"'].ch_go("+p+");this.parentElement.parentElement.style.display='none';document.getElementById('"+n+"_location').style.display='block';\" style=\"display:block;\">"+(p+J)+"<ul>";for(u=q[p].start;u<q[p].end+1;u++)E=E+"<li onclick=\"cG.cPanel['"+
n+"'].go("+u+");this.parentElement.parentElement.parentElement.style.display='none';document.getElementById('"+n+"_location').style.display='block';\" style=\"display:block;\">"+(u+F)+"</li>";E+="</ul></li>"}H+="</ul>";D+="</ul>";E+="</ul>";r(I.innerHTML)&&(I.innerHTML=E+H+D)}for(q=0;q<x.length;q++)"venue"==x[q].getAttribute("class")?w.push(x[q]):v.push(x[q]);q=n;e[q]=a.stage.construct(n,f,A,l);a.fBox.protect?d[c].getAttribute("id")==a.comix.name&&d[c].setAttribute("comix","1"):d[c].setAttribute("comix",
"-1");l=d[c].children;for(f=1;f<l.length;f++)l[f]!=A&&e[q].pg.push(l[f]);for(u=0;u<v.length;u++)v[u].style.display="none",d[c].appendChild(v[u]),e[q].pg.push(v[u]);l=[];for(f=0;f<w.length;f++)k(f,w[f],n,l,q);for(l=0;l<e[q].pg.length;l++)z(e[q].pg[l],e[q].pg,e[q],l)};for(c=0;c<d.length;c++)1!=!d[c].getAttribute("cgcij")&&a.fBox.noverwrite||m(c);a.cPanel=e;a.controlInjection(d);return e};a.route2page=a.route2page||function(){if(!a.fBox.rtepge)return 0;console.log("Routing is currently Disabled");return 0};
a.director.map("#/:v1(/:v2/:v3/:v4/:v5/:v6/:v7/:v8/:v9)").to(a.route2page);a.rdy(function(){a.director.listen();document.getElementById("$COMICXX$$$")||console.log("%c %c %c comix-ngn v"+a.info.vix+" %c \u262f %c \u00a9 2015 Oluwaseun Ogedengbe %c Plugins: "+a.$GPC,"color:white; background:#2EB531","background:purple","color:white; background:#32E237","color:red; background:black","color:white; background:#2EB531","color:white; background:purple");for(var d=document.getElementsByTagName("SCRIPT"),
c,e,h=0;h<d.length;h++)if(e=d[h].getAttribute("src")||null,null!=e&&0<=e.indexOf("comixngn")){c=d[h].getAttribute("auto");break}(null===c||c||void 0===c||""==c)&&a.fBox.fstrun&&a.stageInjection()});window.cG=a})();
