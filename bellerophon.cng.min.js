/*! Bellerophon: Comix-Ngn plugin
Wraps pegasus.js to load files asynchronously
pegasus: typicode.github.io/pegasus (MIT) (c) 2014 typicode
Order: before comixNgn.js
*/
if(void 0===cG){var dir="",tir="",srcs=document.getElementsByTagName("src");for(i=0;i<srcs.length&&(dir=src[i].getAttribute("dir"),""==dir);i++);for(i=0;i<srcs.length&&(tir=src[i].getAttribute("template"),""==tir);i++);if(void 0===$GPC)var $GPC=1;else $GPC++;var cG={agent:function(t,e){return e=new XMLHttpRequest,e.open("GET",t),t=[],e.onreadystatechange=e.then=function(n,o,i){if(n&&n.call&&(t=[,n,o]),4==e.readyState&&(i=t[0|e.status/200]))try{i(JSON.parse(e.responseText),e)}catch(r){i(e.responseText,e)}},e.send(),e},templates:{}},getScript=cG.agent(dir+"script.json"),getStage=cG.agent(tir+"stage.html"),getCostumes=cG.agent(tir+"costumes.html"),getActor=cG.agent(tir+"actor.html");getScript.then(function(t){cG.script=t},function(t,e){console.error(t,e.status),cG.script=0}),getStage.then(function(t){cG.templates.stage=t},function(t,e){console.error(t,e.status),cG.templates.stage=0}),getCostumes.then(function(t){cG.costumes=t},function(t,e){console.error(t,e.status),cG.costumes=0}),getActor.then(function(t){cG.templates.actor=t},function(t,e){console.error(t,e.status),cG.templates.actor=0})}else window.console.debug("CNG Plug-in: Bellerophon must be loaded before comixngn.js");