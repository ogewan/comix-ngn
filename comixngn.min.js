/*
 comix-ngn v1.8.3 | (c) 2015 Oluwaseun Ogedengbe| seun40.github.io/comic-ng/ |License: MIT|
embeds domReady: github.com/ded/domready (MIT) (c) 2013 Dustin Diaz, pegasus: typicode.github.io/pegasus (MIT) (c) 2014 typicode, pathjs (MIT) (c) 2011 Mike Trpcic*/
var cG=cG||{};function N(){return 0}if(void 0===$GPC)var $GPC=0;cG.root="";cG.info={vix:"1.8.3",vwr:"1.0.0",vpr:"0.1.0"};var _rollbarConfig=_rollbarConfig||{accessToken:"3e8e8ecb63a04b5798e1d02adf2608cb",ignoredMessages:["CNG Plug-in:"],captureUncaught:!0,payload:{environment:"development",client:{javascript:{source_map_enabled:!0,code_version:cG.info.vix,guess_uncaught_frames:!0}}}};
!function(a){function c(e){if(d[e])return d[e].exports;var f=d[e]={exports:{},id:e,loaded:!1};return a[e].call(f.exports,f,f.exports,c),f.loaded=!0,f.exports}var d={};return c.m=a,c.c=d,c.p="",c(0)}([function(a,c,d){a=d(1).Rollbar;d=d(2);_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||"https://d37gvrvc0wt4s1.cloudfront.net/js/v1.3/rollbar.umd.min.js";a=a.init(window,_rollbarConfig);d=d(a,_rollbarConfig);a.loadFull(window,document,!1,_rollbarConfig,d)},function(a,c,d){function e(a){this.shimId=
++k;this.notifier=null;this.parentShim=a;this.logger=function(){};window.console&&void 0===window.console.shimId&&(this.logger=window.console.log)}function f(a,c,d){window._rollbarWrappedError&&(d[4]||(d[4]=window._rollbarWrappedError),d[5]||(d[5]=window._rollbarWrappedError._rollbarContext),window._rollbarWrappedError=null);a.uncaughtError.apply(a,d);c&&c.apply(window,d)}function g(a){return h(function(){if(this.notifier)return this.notifier[a].apply(this.notifier,arguments);var c=this,d="scope"===
a;d&&(c=new e(this));var f=Array.prototype.slice.call(arguments,0);return window._rollbarShimQueue.push({shim:c,method:a,args:f,ts:new Date}),d?c:void 0})}function l(a,c){if(c.hasOwnProperty&&c.hasOwnProperty("addEventListener")){var d=c.addEventListener;c.addEventListener=function(c,e,f){d.call(this,c,a.wrap(e),f)};var e=c.removeEventListener;c.removeEventListener=function(a,c,d){e.call(this,a,c&&c._wrapped?c._wrapped:c,d)}}}function h(a,c){return c=c||window.console.log||function(){},function(){try{return a.apply(this,
arguments)}catch(d){c("Rollbar internal error:",d)}}}var k=0;e.init=function(a,c){var d=c.globalAlias||"Rollbar";if("object"==typeof a[d])return a[d];a._rollbarShimQueue=[];a._rollbarWrappedError=null;c=c||{};var g=new e;return h(function(){if(g.configure(c),c.captureUncaught){var e=a.onerror;a.onerror=function(){var a=Array.prototype.slice.call(arguments,0);f(g,e,a)};var k,h,q="EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".split(" ");
for(k=0;k<q.length;++k)h=q[k],a[h]&&a[h].prototype&&l(g,a[h].prototype)}return a[d]=g,g},g.logger)()};e.prototype.loadFull=function(a,c,d,e,f){var g=h(function(){var a=c.createElement("script"),f=c.getElementsByTagName("script")[0];a.src=e.rollbarJsUrl;a.async=!d;a.onload=k;f.parentNode.insertBefore(a,f)},this.logger),k=h(function(){var c;if(void 0===a._rollbarPayloadQueue){var d,e,g;for(c=Error("rollbar.js did not load");d=a._rollbarShimQueue.shift();)for(d=d.args,g=0;g<d.length;++g)if(e=d[g],"function"==
typeof e){e(c);break}}"function"==typeof f&&f(c)},this.logger);h(function(){d?g():a.addEventListener?a.addEventListener("load",g,!1):a.attachEvent("onload",g)},this.logger)()};e.prototype.wrap=function(a,c){try{var d;if((d="function"==typeof c?c:function(){return c||{}},"function"!=typeof a)||a._isWrap)return a;if(!a._wrapped){a._wrapped=function(){try{return a.apply(this,arguments)}catch(c){throw c._rollbarContext=d()||{},c._rollbarContext._wrappedSource=a.toString(),window._rollbarWrappedError=
c,c;}};a._wrapped._isWrap=!0;for(var e in a)a.hasOwnProperty(e)&&(a._wrapped[e]=a[e])}return a._wrapped}catch(f){return a}};c="log debug info warn warning error critical global configure scope uncaughtError".split(" ");for(d=0;d<c.length;++d)e.prototype[c[d]]=g(c[d]);a.exports={Rollbar:e,_rollbarWindowOnError:f}},function(a,c,d){a.exports=function(a,c){return function(d){if(!d&&!window._rollbarInitialized){d=window.RollbarNotifier;var l=c||{},h=l.globalAlias||"Rollbar",l=window.Rollbar.init(l,a);
l._processShimQueue(window._rollbarShimQueue||[]);window[h]=l;window._rollbarInitialized=!0;d.processPayloads()}}}}]);
var Path={version:"0.8.4",map:function(a){return Path.routes.defined.hasOwnProperty(a)?Path.routes.defined[a]:new Path.core.route(a)},root:function(a){Path.routes.root=a},rescue:function(a){Path.routes.rescue=a},history:{initial:{},pushState:function(a,c,d){Path.history.supported?Path.dispatch(d)&&history.pushState(a,c,d):Path.history.fallback&&(window.location.hash="#"+d)},popState:function(a){a=!Path.history.initial.popped&&location.href==Path.history.initial.URL;Path.history.initial.popped=!0;
a||Path.dispatch(document.location.pathname)},listen:function(a){Path.history.supported=!(!window.history||!window.history.pushState);Path.history.fallback=a;if(Path.history.supported)Path.history.initial.popped="state"in window.history,Path.history.initial.URL=location.href,window.onpopstate=Path.history.popState;else if(Path.history.fallback){for(route in Path.routes.defined)"#"!=route.charAt(0)&&(Path.routes.defined["#"+route]=Path.routes.defined[route],Path.routes.defined["#"+route].path="#"+
route);Path.listen()}}},match:function(a,c){var d={},e=null,f,g,l,h,k;for(e in Path.routes.defined)if(null!==e&&void 0!==e)for(e=Path.routes.defined[e],f=e.partition(),h=0;h<f.length;h++){g=f[h];k=a;if(0<g.search(/:/))for(l=0;l<g.split("/").length;l++)l<k.split("/").length&&":"===g.split("/")[l].charAt(0)&&(d[g.split("/")[l].replace(/:/,"")]=k.split("/")[l],k=k.replace(k.split("/")[l],g.split("/")[l]));if(g===k)return c&&(e.params=d),e}return null},dispatch:function(a){var c;if(Path.routes.current!==
a){Path.routes.previous=Path.routes.current;Path.routes.current=a;c=Path.match(a,!0);Path.routes.previous&&(a=Path.match(Path.routes.previous),null!==a&&null!==a.do_exit&&a.do_exit());if(null!==c)return c.run(),!0;null!==Path.routes.rescue&&Path.routes.rescue()}},listen:function(){var a=function(){Path.dispatch(location.hash)};""===location.hash&&null!==Path.routes.root&&(location.hash=Path.routes.root);"onhashchange"in window&&(!document.documentMode||8<=document.documentMode)?window.onhashchange=
a:setInterval(a,50);""!==location.hash&&Path.dispatch(location.hash)},core:{route:function(a){this.path=a;this.action=null;this.do_enter=[];this.do_exit=null;this.params={};Path.routes.defined[a]=this}},routes:{current:null,root:null,rescue:null,previous:null,defined:{}}};
Path.core.route.prototype={to:function(a){this.action=a;return this},enter:function(a){a instanceof Array?this.do_enter=this.do_enter.concat(a):this.do_enter.push(a);return this},exit:function(a){this.do_exit=a;return this},partition:function(){for(var a=[],c=[],d=/\(([^}]+?)\)/g,e;e=d.exec(this.path);)a.push(e[1]);c.push(this.path.split("(")[0]);for(d=0;d<a.length;d++)c.push(c[c.length-1]+a[d]);return c},run:function(){var a=!1,c,d;if(Path.routes.defined[this.path].hasOwnProperty("do_enter")&&0<
Path.routes.defined[this.path].do_enter.length)for(c=0;c<Path.routes.defined[this.path].do_enter.length;c++)if(d=Path.routes.defined[this.path].do_enter[c](),!1===d){a=!0;break}a||Path.routes.defined[this.path].action()}};
!function(a,c){"undefined"!=typeof module?module.exports=c():"function"==typeof define&&"object"==typeof define.amd?define(c):this[a]=c()}("domReady",function(a){function c(a){for(h=1;a=d.shift();)a()}var d=[],e,f=document,g=f.documentElement,l=g.doScroll,h=(l?/^loaded|^c/:/^loaded|c/).test(f.readyState);return f.addEventListener&&f.addEventListener("DOMContentLoaded",e=function(){f.removeEventListener("DOMContentLoaded",e,!1);c()},!1),l&&f.attachEvent("onreadystatechange",e=function(){/^c/.test(f.readyState)&&
(f.detachEvent("onreadystatechange",e),c())}),a=l?function(c){self!=top?h?c():d.push(c):function(){try{g.doScroll("left")}catch(d){return setTimeout(function(){a(c)},50)}c()}()}:function(a){h?a():d.push(a)}});function syncJSON(a){return(a=loadTextFileAjaxSync(a,"application/json"))?JSON.parse(a):0}function loadTextFileAjaxSync(a,c){var d=new XMLHttpRequest;d.open("GET",a,!1);null!=c&&d.overrideMimeType&&d.overrideMimeType(c);d.send();return 200<=d.status&&304>=d.status?d.responseText:null}
cG.REPO=cG.REPO||{};cG.REPO.agent={def:function(a,c){return c=new XMLHttpRequest,c.open("GET",a),a=[],c.onreadystatechange=c.then=function(d,e,f){if(d&&d.call&&(a=[,d,e]),4==c.readyState&&(f=a[0|c.status/200]))try{f(JSON.parse(c.responseText),c)}catch(g){f(c.responseText,c)}},c.send(),c}};cG.REPO.director={def:Path};cG.REPO.producer={def:N};cG.REPO.stage={def:{id:"def",construct:N}};cG.REPO.actor=cG.REPO.actor||{def:""};cG.REPO.decor=cG.REPO.decor||{def:""};cG.REPO.script=cG.REPO.script||{def:""};
cG.agent=cG.REPO.agent.def;cG.director=cG.REPO.director.def;cG.producer=cG.REPO.producer.def;cG.actor=cG.REPO.actor.def;cG.decor=cG.REPO.decor.def;cG.script=cG.REPO.script.def;cG.stage=cG.REPO.stage.def;cG.HELPERS={};var dir="",tir="",src=document.getElementsByTagName("SCRIPT");for(i=0;i<src.length&&(dir=src[i].getAttribute("dir"),""==dir);i++);for(i=0;i<src.length&&(tir=src[i].getAttribute("template"),""==tir);i++);for(i=0;i<src.length&&(cG.root=src[i].getAttribute("plugin"),""==cG.root);i++);
tir=dir="";""==cG.root&&(cG.root="def");if(void 0===getScript){var getScript=cG.agent(dir+"script.json");getScript.then(function(a,c){cG.script=cG.REPO.script.def=a},function(a,c){console.error(a,c.status);cG.script=cG.REPO.script.def=0})}if(void 0===getDecor){var getDecor=cG.agent(tir+"decor.html");getDecor.then(function(a,c){cG.decor=cG.REPO.decor.def=a},function(a,c){console.error(a,c.status);cG.decor=cG.REPO.decor.def=0})}cG.HELPERS.jstagecreate=N;
cG.stageInjection=function(a){if(""===cG.script||""===cG.decor)setTimeout(cG.stageInjection,300,a);else{if(!cG.script)return console.error("No script.JSON found. script.JSON is REQUIRED to create any stage. Please create a script.JSON or move it to the directory specified in the script tag for comix-ngn or bellerophon if it is added.");var c=[];if(void 0===a)c=document.getElementsByClassName("venue");else if(Array.isArray(a)){if(0<a.length)return console.error("stageInjection can only operate on elements or arrays of elements");
c=c.concat(a)}else{if(void 0===a.nodeName)return console.error("stageInjection can only operate on elements or arrays of elements");c.push(a)}for(var d=[],e=[],f=function(a,h){var k;if(null===h||void 0===h)if(k=c[a].getAttribute("script"),""==k||"script.json"==k)k=cG.script;else return e.push(cG.agent(k).then(function(c,d){f(a,c)},function(c,d){console.error(c,d.status);f(a,"")})),0;else k=""==h?cG.script:h;var m=c[a].getAttribute("id"),p=c[a].getAttribute("use"),n=c[a].getAttribute("config");if(""==
m){for(var m="STG"+a,r=1;document.getElementById(m);)m="STG"+(a+r++);m=m.toString();c[g].setAttribute("id",m)}if(""!=n)try{n=JSON.parse(n)}catch(t){console.debug("The following configuration settings are malformed for plugin["+p+"]: ",n,"\nIt has been ignored"),n={}}else n={};d[p+"_"+a]=new cG.stage.construct(m,k,c[a],n)},g=0;g<c.length;g++)f(g);return d}};Path.map("#/:page").to(function(){cG.stage.controls(window[document.getElementsByClassName("venue")[0].getAttribute("id")],{value:this.params.page})});
cG.HELPERS.smartAttrib=function(a,c){var d,e=c[a.nodeName.toLowerCase()];if(void 0!==e&&(void 0===e.count||0!=e.count)){d=Object.keys(e);for(y=0;y<d.length;y++)"count"!=d[y]&&("innerHTML"==d[y]?a.innerHTML=e[d[y]]:a.setAttribute(d[y],e[d[y]]));0<e.count&&c[a.nodeType.toLowerCase()].count--}for(d=0;d<a.children.length;d++)cG.HELPERS.smartAttrib(a.children[d],c)};
cG.HELPERS.FEbyIdAI=function(a,c,d){var e=[],f,g=c.indexOf(a.getAttribute("id"))+1;if(!g){f=a.className.split(" ");for(b=0;b<f.length&&!(g=c.indexOf(f[b]),0<=g);b++);g++}g&&(a.innerHTML=d[g-1],e.push(a));for(f=0;f<a.children.length;f++)e=e.concat(cG.HELPERS.FEbyIdAI(a.children[f],c,d));return e};
cG.HELPERS.renameEles=function(a,c,d,e){for(var f=0;f<c.children.length;f++)cG.HELPERS.renameEles(!0,c.children[f],d,e);a&&(a=void 0===d?"":d+"_",e=void 0===e?"":"_"+e,c.setAttribute("id",a+c.getAttribute("id")+e),""!=c.className&&(c.className=" "+a+c.className))};
domReady(function(){document.getElementById("$COMICNGWRITER$$$")||console.log("%c %c %c comix-ngn v"+cG.info.vix+" %c \u262f %c \u00a9 2015 Oluwaseun Ogedengbe %c Plugins: "+$GPC,"color:white; background:#2EB531","background:purple","color:white; background:#32E237","color:red; background:black","color:white; background:#2EB531","color:white; background:purple");var a=document.getElementsByTagName("SCRIPT"),c;for(i=0;i<a.length;i++)if(void 0!=a[i].getAttribute("src")&&0<=a[i].getAttribute("src").indexOf("comixngn")){c=
a[i].getAttribute("auto");break}if(c||void 0==c||""==c)a=cG.stageInjection(),console.log(a)});
