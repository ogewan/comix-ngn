class Hexstring$$module$_compile$util{constructor(a){this.toString=()=>this.value.toString(16);this.value="string"===typeof a?parseInt(a,16):a}}class Version$$module$_compile$util{constructor(a=0,c=0,e=0){this.major=a;this.minor=c;this.patch=e}toString(){const {major:a,minor:c,patch:e}=this;return`${a}.${c}.${e}`}}var module$_compile$util={};module$_compile$util.Hexstring=Hexstring$$module$_compile$util;module$_compile$util.Version=Version$$module$_compile$util;/*
 directionX.js (c) 2021 Ogewan, MIT*/
function direction$$module$lib$directionx(a=[],c={},e=[640,480]){const g=()=>{if(n){l[0].style.paddingLeft=(l[1].width-300)/2+"px";var b=Math.floor((Date.now()-n.str)/1E3*n.lne)/n.lne,f=n.clr;n.ctx.save();n.ctx.clearRect(0,0,300,l[1].height);n.ctx.translate(150,l[1].height/2);n.ctx.rotate(2*Math.PI*b%(2*Math.PI));3==f.length?f=`#${f[1]}${f[1]}${f[2]}${f[2]}${f[3]}${f[3]}`:G(f,16);for(b=0;b<n.lne;b++)n.ctx.beginPath(),n.ctx.rotate(2*Math.PI/n.lne),n.ctx.moveTo(n.dia/10,0),n.ctx.lineTo(n.dia/4,0),n.ctx.lineWidth=
n.dia/30,n.ctx.strokeStyle=f,n.ctx.stroke();n.ctx.restore();w?L(g):n.ctx.clearRect(0,0,300,l[1].height)}},h=(b,f)=>{if(null===b||void 0===b)b={x:0,y:0};else if(isNaN(b)){if(null===b.y||void 0===b.y)b.y=0;if(null===b.x||void 0===b.x)b.x=0}else b={x:0,y:b};if(null===f||void 0===f||0>=f)f=400;0>b.y&&(b.y=window.innerHeight||H.clientHeight||K.clientHeight);0>b.x&&(b.x=window.innerWidth||H.clientWidth||K.clientWidth);b={x:void 0!==window.pageXOffset?b.x-window.pageXOffset:b.x-H.scrollLeft,y:void 0!==window.pageYOffset?
b.y-window.pageYOffset:b.y-H.scrollTop};if(b=={x:0,y:0})return b;let k=function(t,u,D){window.scrollBy(Math.floor(t.x)/u,Math.floor(t.y)/u);D+1<5*u&&(A=window.setTimeout(k,5,t,u,D+1))};A=window.setTimeout(k,5,b,Math.floor(f/5),0);return b},p=b=>{const {width:f,height:k}=b;O.clearRect(0,0,l[1].width,l[1].height);C.run("slidn");if(v.sz){const {w:t,h:u,s2w:D,s2h:W}=v.sz;let S=1,T=1,U=t||l[1].width,V=u||l[1].height;D&&(S=U/f);W&&(T=V/k);l[1].width=U*T;l[1].height=V*S}else l[1].width=f,l[1].height=k;n&&
(l[0].height=l[1].height);O.drawImage(b,0,0,...[l[1].width,l[1].height]);w=!1;P&&h();C.run("slidd")},r=b=>{var f=[b.width,b.height];let k=m[b.virID],t=u=>{k&&(k.ib=u);b.master&&p(u)};if(b.ui)k=b;else{Q.clearRect(0,0,l[2].width,l[2].height);l[2].width=f[0];l[2].height=f[1];Q.drawImage(b,0,0);try{k.ui=Q.getImageData(0,0,...f)}catch(u){return console.log("Cannot get imageData from cross-origin"),f=l[2].transferToImageBitmap(),t(f)}}R?(f=R.createKernel(c.shader||function(u){var D=4*(this.thread.x+this.constants.w*
(this.constants.h-this.thread.y));this.color(u[D]/256,u[D+1]/256,u[D+2]/256,u[D+3]/256)}).setConstants({w:f[0],h:f[1]}).setOutput(f).setGraphical(!0),f.canvas.width=1,f.canvas.height=1,f.maxTexSize=[1,1],f(k.ui.data),createImageBitmap(f.canvas).then(t)):(f=c.pixelfn,createImageBitmap(f?f(k.ui):k.ui).then(t))},q=b=>{if(m.length){w=!0;L(g);C.run("start");b=Math.min(Math.max(0,b),m.length-1);m[b].ib?m[b].st!=m.shaderTime?r(m[b]):p(m[b].ib):(O.clearRect(0,0,l[1].width,l[1].height),M.virID=b,M.src=v.dir+
m[b].s);E=b;var f,k=0;for(f=b-1;k<v.irb&&0<=f;f--)if(!m[f].ib)if(m[f].st!=m.shaderTime)r(m[f]);else{var t=k,u=v.dir+m[f].s;N[t].virID=f;N[t].src=u;k++}for(f=b+1;k<v.itb&&f<m.length;f++)m[f].ib||(m[f].st!=m.shaderTime?r(m[f]):(b=k,t=v.dir+m[f].s,N[b].virID=f,N[b].src=t,k++))}},x=(b,f)=>{if(b)for(var k in f)b.hasOwnProperty(k)&&(b[k]=f[k])},I=b=>Array(b).fill(1).map((f,k)=>{f=new Image;f.unique=k;f.virID=-1;f.addEventListener("load",r.bind(null,f));return f}),z=b=>{let f=Date.now();b=("string"==typeof b?
b.split(" "):b).map((k,t,u)=>({s:k,st:f,d:t?t==u.length-1?1:0:-1}));b.shaderTime=f;return b},J=()=>{try{jQuery.fn.direction=function(b,f){return this.each(function(){f.anchor=$(this);d(b,f)})}}catch(b){console.log(b)}},F=document,K=F.body,H=F.documentElement,G=parseInt,L=window.requestAnimationFrame;let y=c.overwrite||0,B=c.anchor||K,m=z(a),w=!0,A=-1,E=-1,l={0:c.disableSpin?null:F.createElement("canvas"),1:F.createElement("canvas"),2:new OffscreenCanvas(e[0],e[1])},n=l[0]?{ctx:l[0].getContext("2d"),
clr:c.color||"#373737",str:Date.now(),lne:c.lines||16,rte:c.rate||1E3/30,dia:c.diameter||250,lbk:c.loaderback||"#FFF",dat:Date.now(),sav:[]}:null,v={dir:c.dir||"",irb:c.imgprebuffer||5,itb:c.imgpostbuffer||5,bck:c.back||"#FFF",sz:c.size||0},N=I(v.itb+v.irb),M=I(1)[0],P=!0,O=l[1].getContext("2d"),Q=l[2].getContext("2d"),C={run:b=>{for(var f=0;f<C[b].length;f++)C[b][f]()},start:[],slidn:[],slidd:[]},R;window.jQuery&&J();this.canvi=l;this.cb=C;this.setupShaders=b=>{if(b.gpu){const f=new OffscreenCanvas(e[0],
e[1]),k=f.getContext("webgl2",{premultipliedAlpha:!1});R=new b.gpu({canvas:f,webGl:k})}b.shader&&(c.shader=b.shader);b.pixelfn&&(c.pixelfn=b.pixelfn)};this.cnl=()=>{window.clearTimeout(A)};this.swap=(b,f,k)=>{m=Array.isArray(b)?z(b):m;f&&(x(n,f),x(v,f));this.go(k||0)};this.count=()=>m.length;this.current=()=>E;this.callback=(b,f,k,t)=>{if(null===b||void 0===b)return C.slidn;b={"-1":C.start,0:C.slidn,1:C.slidd}[k||0];if(t)return b.splice(k||b.length-1,1);if(null===f||void 0===f)return null===k||void 0===
k?b:b[k];null===k||void 0===k?b.push(f):b[k]=f;return 1};this.go=b=>{b=null===b||void 0===b?0:G(b,10);b=isNaN(b)?0:b;q(Math.floor(Math.max(0,Math.min(m.length-1,b))));return b};this.prev=()=>{var b=E-1;0<=b&&q(b);return b};this.next=()=>{var b=E+1;b<m.length&&q(b);return b};this.frst=()=>{0<=E&&q(0);return 0};this.last=()=>{q(m.length-1);return m.length-1};this.rand=()=>{var b=Math.floor(Math.random()*(m.length-1));q(b);return b};this.data=b=>{b=null===b||void 0===b?E:G(b,10);return isNaN(b)?m[E]:
m[Math.floor(Math.max(0,Math.min(m.length-1,b)))]};this.scroll=b=>{null!==b&&void 0!==b&&(P=b);return P};this.scrollTo=(b,f)=>h(b,f);this.resize=(b,f=!0,k=!1)=>{v.sz=k?{...b,w:e[0],h:e[1]}:b;f&&this.go(E);return b};n&&(l[0].height=480,l[0].style.background=n.lbk,l[0].style.paddingLeft="170px",l[0].style.zIndex=0,l[0].style.position="absolute",B.appendChild(l[0]));v.sz&&(v.sz={w:v.sz.width,h:v.sz.height,s2w:v.sz.scaleToWidth,s2h:v.sz.scaleToHeight});M.master=!0;M.unique=-1;q(v.startpage||y);l[1].height=
e[0];l[1].width=e[1];l[1].background=v.bck;l[1].style.zIndex=1;l[1].style.position="relative";B.appendChild(l[1])}var module$lib$directionx={};module$lib$directionx.default=direction$$module$lib$directionx;function pegasus$$module$lib$pegasus_min(a,c,e){return e=new XMLHttpRequest,e.open("GET",a),a=[],pegasus$$module$lib$pegasus_min.timeout&&(e.timeout=pegasus$$module$lib$pegasus_min.timeout),e.ontimeout=function(g){c=g},e.onreadystatechange=e.then=function(g,h,p,r){if(g&&g.call&&(a=[,g,h]),c&&a[2]&&a[2](c,e),4==e.readyState&&(p=a[0|e.status/200])){try{r=JSON.parse(e.responseText)}catch(q){r=null}p(r,e)}},e.send(),e}var module$lib$pegasus_min={};module$lib$pegasus_min.default=pegasus$$module$lib$pegasus_min;const Path$$module$lib$path_min={version:"0.8.4",map:function(a){return Path$$module$lib$path_min.routes.defined.hasOwnProperty(a)?Path$$module$lib$path_min.routes.defined[a]:new Path$$module$lib$path_min.core.route(a)},root:function(a){Path$$module$lib$path_min.routes.root=a},rescue:function(a){Path$$module$lib$path_min.routes.rescue=a},history:{initial:{},pushState:function(a,c,e){Path$$module$lib$path_min.history.supported?Path$$module$lib$path_min.dispatch(e)&&history.pushState(a,c,e):Path$$module$lib$path_min.history.fallback&&
(window.location.hash="#"+e)},popState:function(a){a=!Path$$module$lib$path_min.history.initial.popped&&location.href==Path$$module$lib$path_min.history.initial.URL;Path$$module$lib$path_min.history.initial.popped=!0;a||Path$$module$lib$path_min.dispatch(document.location.pathname)},listen:function(a){Path$$module$lib$path_min.history.supported=!(!window.history||!window.history.pushState);Path$$module$lib$path_min.history.fallback=a;if(Path$$module$lib$path_min.history.supported)Path$$module$lib$path_min.history.initial.popped=
"state"in window.history,Path$$module$lib$path_min.history.initial.URL=location.href,window.onpopstate=Path$$module$lib$path_min.history.popState;else if(Path$$module$lib$path_min.history.fallback){for(route in Path$$module$lib$path_min.routes.defined)"#"!=route.charAt(0)&&(Path$$module$lib$path_min.routes.defined["#"+route]=Path$$module$lib$path_min.routes.defined[route],Path$$module$lib$path_min.routes.defined["#"+route].path="#"+route);Path$$module$lib$path_min.listen()}}},match:function(a,c){var e=
{},g=null,h,p;for(g in Path$$module$lib$path_min.routes.defined)if(null!==g&&void 0!==g){g=Path$$module$lib$path_min.routes.defined[g];var r=g.partition();for(p=0;p<r.length;p++){var q=r[p];var x=a;if(0<q.search(/:/))for(h=0;h<q.split("/").length;h++)h<x.split("/").length&&":"===q.split("/")[h].charAt(0)&&(e[q.split("/")[h].replace(/:/,"")]=x.split("/")[h],x=x.replace(x.split("/")[h],q.split("/")[h]));if(q===x)return c&&(g.params=e),g}}return null},dispatch:function(a){if(Path$$module$lib$path_min.routes.current!==
a){Path$$module$lib$path_min.routes.previous=Path$$module$lib$path_min.routes.current;Path$$module$lib$path_min.routes.current=a;var c=Path$$module$lib$path_min.match(a,!0);Path$$module$lib$path_min.routes.previous&&(a=Path$$module$lib$path_min.match(Path$$module$lib$path_min.routes.previous),null!==a&&null!==a.do_exit&&a.do_exit());if(null!==c)return c.run(),!0;null!==Path$$module$lib$path_min.routes.rescue&&Path$$module$lib$path_min.routes.rescue()}},listen:function(){var a=function(){Path$$module$lib$path_min.dispatch(location.hash)};
""===location.hash&&null!==Path$$module$lib$path_min.routes.root&&(location.hash=Path$$module$lib$path_min.routes.root);"onhashchange"in window&&(!document.documentMode||8<=document.documentMode)?window.onhashchange=a:setInterval(a,50);""!==location.hash&&Path$$module$lib$path_min.dispatch(location.hash)},core:{route:function(a){this.path=a;this.action=null;this.do_enter=[];this.do_exit=null;this.params={};Path$$module$lib$path_min.routes.defined[a]=this}},routes:{current:null,root:null,rescue:null,
previous:null,defined:{}}};
Path$$module$lib$path_min.core.route.prototype={to:function(a){this.action=a;return this},enter:function(a){a instanceof Array?this.do_enter=this.do_enter.concat(a):this.do_enter.push(a);return this},exit:function(a){this.do_exit=a;return this},partition:function(){for(var a=[],c=[],e=/\(([^}]+?)\)/g,g;g=e.exec(this.path);)a.push(g[1]);c.push(this.path.split("(")[0]);for(e=0;e<a.length;e++)c.push(c[c.length-1]+a[e]);return c},run:function(){var a=!1,c;if(Path$$module$lib$path_min.routes.defined[this.path].hasOwnProperty("do_enter")&&0<
Path$$module$lib$path_min.routes.defined[this.path].do_enter.length)for(c=0;c<Path$$module$lib$path_min.routes.defined[this.path].do_enter.length;c++){var e=Path$$module$lib$path_min.routes.defined[this.path].do_enter[c]();if(!1===e){a=!0;break}}a||Path$$module$lib$path_min.routes.defined[this.path].action()}};var $jscompDefaultExport$$module$lib$path_min=Path$$module$lib$path_min,module$lib$path_min={};module$lib$path_min.default=$jscompDefaultExport$$module$lib$path_min;class CmxCtrl$$module$_compile$cmxctrl extends HTMLElement{constructor(a,c){super();this.shadow=this.attachShadow({mode:"open"});this.shadow.innerHTML="<style>\n        ol {\n            list-style-type: none;\n        }\n        li {\n            display: inline;\n        }\n        </style>";c=document.createElement("ol");const {makeButton:e}=this;this._ctrlarray=[e("|<",["frst"]),e("< Prev",["prev"]),e("Random",["rand"]),e("Next >",["next"]),e(">|",["last"])];if(a)this._book=a,this.btnAssign();
else if(a=this.getAttribute("book"))this.book=a;c.append(...this._ctrlarray);this.shadow.appendChild(c)}makeButton(a,c,e){const g=document.createElement("li"),h=document.createElement("button");h.innerText=a||"";c&&h.classList.add(...c);e&&(h.onclick=e);g.appendChild(h);return g}btnAssign(){const a=this._book;if(a){const c=[a.frst,a.prev,a.rand,a.next,a.last];this._ctrlarray.map((e,g)=>{e.onclick=c[g]})}}static get observedAttributes(){return["book"]}attributeChangedCallback(a,c,e){this[a]=e}set book(a){this._book=
comixngn$$module$_compile$comixngn_core().bookMap.get(a);this.btnAssign()}get book(){return this._book}bookId(){return this._book?this._book.uid:void 0}}var module$_compile$cmxctrl={};module$_compile$cmxctrl.CmxCtrl=CmxCtrl$$module$_compile$cmxctrl;class Page$$module$_compile$data{constructor(a,c){this.url=[];a?(a="string"===typeof a?[a]:a,Object.assign(this,Object.assign(Object.assign({},c),{url:a}))):Object.assign(this,c);this.release&&(this.release=new Date(this.release))}collapse(){return this.url.length?this.url[0]:""}toString(){return 1===Object.keys(this).length?JSON.stringify(this.url):JSON.stringify(this)}}
class Chapter$$module$_compile$data{constructor(a,c,e){this.start=a;this.title=c;this.description=e}toString(){return JSON.stringify(this)}}var module$_compile$data={};module$_compile$data.Chapter=Chapter$$module$_compile$data;module$_compile$data.Page=Page$$module$_compile$data;class Schema$$module$_compile$schema{constructor(a){this.pages=[];this.chapters=[];this.config={format:"C/PP",startDate:void 0,chapterStartAt:1,pageStartAt:1,dir:"",imgpostbuffer:5,imgprebuffer:5,startPage:0,back:new Hexstring$$module$_compile$util(0)};this.loading={diameter:250,lines:16,rate:1E3/30,back:new Hexstring$$module$_compile$util("#FFF"),color:new Hexstring$$module$_compile$util("#373737")};this.pageChapterMap=new Map;try{let c;c="string"===typeof a?JSON.parse(a):a.length?{pages:a.map("string"===
typeof a[0]?e=>({url:e}):e=>Object.assign(Object.assign({},e),{url:[e.link],link:void 0}))}:a&&void 0===a.length?a:{};c.pages&&c.pages.length&&(c.pages=c.pages.map(e=>e.url?new Page$$module$_compile$data(null,e):new Page$$module$_compile$data(e)));c.chapters&&c.chapters.length&&(c.chapters=c.chapters.map(e=>new Chapter$$module$_compile$data(e.start,e.title,e.description)).sort((e,g)=>e.start-g.start));c.config&&c.config.startDate&&(c.config.startDate=new Date(c.config.startDate));Object.assign(this,
c)}catch(c){throw"Failed to create script\n"+c;}}exportPages(a=[]){if(a.length){let c=new Map;a.reduce((e,g)=>e.set(g,!0),new Map);return this.pages.filter((e,g)=>c.set(g,!0)).map(e=>e.collapse())}return this.pages.map(c=>c.collapse())}mapPageChapter(a){this.chapters=this.chapters.sort((c,e)=>c.start-e.start);this.chapters.filter((c,e)=>!a||a.includes(e)).forEach((c,e,g)=>{g=g[e+1];c=c.start;g=g?g.start:this.pages.length;if(!(c>=g))for(;c<g;c++)this.pageChapterMap.set(c,e)})}pageToChapter(a=0){return this.pageChapterMap.get(a)||
0}chapterToPage(a=0){return(a=this.chapters[a])?a.start:0}}var module$_compile$schema={};module$_compile$schema.Schema=Schema$$module$_compile$schema;class CmxBook$$module$_compile$cmxbook extends HTMLElement{constructor(){super();this._active=!1;this._core=comixngn$$module$_compile$comixngn_core();const {core:a}=this;let c=this.getAttribute("uid");if(!c){let e=0;for(c=`STG${e}`;a.bookMap.get(c);)c=`STG${++e}`}this._uid=c;a.bookMap.set(c,this);this._cid=window.location.host;this.shadow=this.attachShadow({mode:"open"});console.log("construct cmxbook")}get core(){return this._core}convertToDirectionSetting(){const {_schema:a,_core:c}=this,e=c.setting,
{config:g,loading:h}=a,{dir:p,imgprebuffer:r,imgpostbuffer:q,startPage:x}=g,{diameter:I,lines:z,rate:J}=h;return Object.assign({overwrite:x,dir:p,imgprebuffer:r,imgpostbuffer:q,diameter:I,lines:z,rate:J,back:g.back?g.back.toString():void 0,loaderback:h.back?h.back.toString():void 0,color:h.color?h.color.toString():void 0},e)}initializeDisplay(){var {shadow:a}=this;const c=this._schema?this._schema.exportPages():[],e=this._schema?this.convertToDirectionSetting():{};a=new direction$$module$lib$directionx(c,
Object.assign(Object.assign({},e),{anchor:a}));this.defineMethods(a);console.log("Intialize Display");this._active=!0;(a=this.getAttribute("controller"))?pegasus$$module$lib$pegasus_min(a).then(this.initializeControls.bind(this)):this.initializeControls()}initializeControls(a){this.controller=new CmxCtrl$$module$_compile$cmxctrl(this,a);this.insertAdjacentElement("afterend",this.controller)}defineMethods(a){let c=Object.assign({},this._core.setting),e=h=>0,g=h=>0;this._schema&&(e=this._schema.pageToChapter,
g=this._schema.chapterToPage,c=Object.assign(Object.assign({},c),this._schema));this.rand=a.rand;this.go=a.go;this.prev=a.prev;this.next=a.next;this.frst=a.frst;this.last=a.last;this.ch_go=h=>e(this.go(e(h)));this.ch_prev=()=>e(this.go(g(this.ch_current()-1)));this.ch_next=()=>e(this.go(g(this.ch_current()+1)));this.ch_frst=()=>e(this.go(g(0)));this.ch_last=()=>e(this.go(g(this._schema?this._schema.chapters.length:0)));this.update=()=>{const h=a.swap,p=this._schema?this._schema.exportPages():[],r=
this._schema?this.convertToDirectionSetting():{};h(p,Object.assign(Object.assign({},r),{anchor:this.shadow}));a.setupShaders(r)};this.resize=a.resize;this.current=a.current;this.ch_current=()=>{e(this.current())};this.rawData=a.data;this.pg_data=h=>{if(this._schema&&this._schema.pages.length)return this._schema.pages[h||this.current()||0]};this.ch_data=h=>{if(this._schema&&this._schema.chapters.length)return this._schema.chapters[h||this.ch_current()||0]};a.callback(1,()=>{var h=this.current(),p=
this._schema.pages[h];if(localStorage&&c.pageSave){const {_cid:q,_uid:x}=this;localStorage.setItem(`${q}|${x}|current`,h.toString())}if(c.pagePush){var r="";if(c.config.format){const {format:q,chapterStartAt:x,pageStartAt:I}=c.config,z=p.release,J=p.title,F=p.url[0],K=h+I,H=this._schema.pageToChapter(h)+x,G=this.ch_data()?this.ch_data().title:"",L="january febuary march april may june july august september october november december".split(" ");h=(y,B)=>{if(!y)return"";const m=y===y.toUpperCase();
y=y.toLowerCase();var w=A=>()=>{if(!z)throw Error(`Date required for format of ${q}`);return A()};w={y:w(()=>{let A=z.getFullYear().toString();return 3>B?A.slice(2):A}),m:w(()=>z.getMonth().toString()),d:w(()=>z.getDay().toString()),h:w(()=>z.getHours().toString()),u:w(()=>z.getMinutes().toString()),s:w(()=>z.getSeconds().toString()),n:w(()=>{B=0;let A=L[z.getMonth()];return m?A:A.slice(0,3)}),c:()=>{B=0;return!m&&G?G:H.toString()},p:()=>{B=0;return!m&&J?J:K.toString()},f:()=>{B=0;return F.slice(F.lastIndexOf("/")+
1)},"":()=>""};w=(w[y]||w[""])();return w.length?w.padStart(B-w.length,"0"):y};p=[];r=[];for(let y=0;y<q.length;y++)if(p[0]!==q[y]){try{r.push(h(p[0],p.length))}catch(B){return console.log(B),""}p=[q[y]]}else p.push(q[y]);r.push(h(p[0],p.length));r=r.join("")}console.log(`Pushing state: ${r}`);history.pushState({},"",`#/${r}`)}})}exportSchema(){return JSON.stringify(this._schema)}changeId(a,c){const {_cid:e,_uid:g}=this,h=`${e}|${g}|current`;this[a]=c;a=`${e}|${g}|current`;if(c=localStorage.getItem(h))localStorage.removeItem(h),
localStorage.setItem(a,c)}set uid(a){this.core.bookMap.has(a)?console.error(`CmxBook with uid ${a} already exists.`):(this.core.bookMap.set(a,this),this.core.bookMap.delete(this._uid),this.changeId("_uid",a),this.getAttribute("uid")!==a&&this.setAttribute("uid",a))}set cid(a){this.changeId("_cid",a);this.getAttribute("cid")!==a&&this.setAttribute("cid",a)}set schema(a){const c=e=>{e instanceof Schema$$module$_compile$schema||(e=new Schema$$module$_compile$schema(e));this._schema=e;this._active?this.update():
this.initializeDisplay()};if("string"===typeof a)try{c(JSON.parse(a))}catch(e){pegasus$$module$lib$pegasus_min(a).then(c)}else c(a)}set config(a){const c=e=>{this.core.config(e);this._active&&this.update()};if(a){try{c(JSON.parse(a))}catch(e){pegasus$$module$lib$pegasus_min(a).then(c)}this.getAttribute("config")!==a&&this.setAttribute("config",a)}}get uid(){return this._uid}get cid(){return this._cid}get config(){return this.getAttribute("config")}get schema(){return this._schema}static get observedAttributes(){return["cid",
"uid","schema","config"]}attributeChangedCallback(a,c,e){this[a]!==e&&(this[a]=e)}rand(){}go(a){}prev(){}next(){}frst(){}last(){}ch_go(a){}ch_prev(){}ch_next(){}ch_frst(){}ch_last(){}update(){}current(){}ch_current(){}rawData(a){}pg_data(a){}ch_data(a){}setupShaders(a){}resize(a,c,e){}}var module$_compile$cmxbook={};module$_compile$cmxbook.CmxBook=CmxBook$$module$_compile$cmxbook;console.log("comix-ngn v2");let comixngn$$module$_compile$comixngn_core;(()=>{comixngn$$module$_compile$comixngn_core=()=>new Comixngn$$module$_compile$comixngn_core})();
class Comixngn$$module$_compile$comixngn_core{constructor(){this.coreVersion=new Version$$module$_compile$util(2,1,0);this.cxxVersion=new Version$$module$_compile$util(0,0,2);this.bookMap=new Map;this._priority=!1;this._sysmsg=`%c %c %c comix-ngn v${this.coreVersion} %c \u262F %c \u00A9 2020 Oluwaseun Ogedengbe %c`;this._sysclr="color:white; background:#2EB531,background:purple,color:white; background:#32E237,color:red; background:black,color:white; background:#2EB531,color:white; background:purple".split(",");this._setting=
{pageSave:!0,pagePush:!1};this.defRoute="#/:v1(/:v2/:v3/:v4/:v5/:v6/:v7/:v8/:v9)";const {defRoute:a,routing:c}=this;console.log(this._sysmsg,...this._sysclr);$jscompDefaultExport$$module$lib$path_min.map(a).to(c)}get setting(){return this._setting}routing(){}priorityConfig(a){this.config(a,!0)}config(a,c){if(this._priority||c)if(c)this._priority=!0;else return;a.gpu=a.gpu?window[a.gpu]:a.GPU;this._setting=a}reset(){this._priority=!1}}
class CmxCore$$module$_compile$comixngn_core extends HTMLElement{constructor(){super();this.innerHTML="";this._core=comixngn$$module$_compile$comixngn_core();this.setCore(this.getAttribute("config"))}get core(){return this._core}get initialized(){return!0}setCore(a){const c=this._core;if(a)try{c.priorityConfig(JSON.parse(a))}catch(e){pegasus$$module$lib$pegasus_min(a).then(c.priorityConfig)}}static get observedAttributes(){return["config"]}attributeChangedCallback(a,c,e){this.setCore(e)}set config(a){this.getAttribute("config")!==
a&&(a?this.setAttribute("config",a):this.removeAttribute("config"))}get config(){return this.getAttribute("config")}}customElements.define("comix-core",CmxCore$$module$_compile$comixngn_core);customElements.define("comix-ngn",CmxBook$$module$_compile$cmxbook);customElements.define("comix-ctrl",CmxCtrl$$module$_compile$cmxctrl);var module$_compile$comixngn_core={get comixngn(){return comixngn$$module$_compile$comixngn_core}};module$_compile$comixngn_core.CmxCore=CmxCore$$module$_compile$comixngn_core;
module$_compile$comixngn_core.Comixngn=Comixngn$$module$_compile$comixngn_core;
