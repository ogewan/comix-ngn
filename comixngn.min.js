/*! comix-ngn v1.7.7 | (c) 2015 Oluwaseun Ogedengbe| seun40.github.io/comic-ng/ |License: MIT|
embeds domReady: github.com/ded/domready (MIT) (c) 2013 Dustin Diaz, pegasus: typicode.github.io/pegasus (MIT) (c) 2014 typicode, pathjs (MIT) (c) 2011 Mike Trpcic, HTMLparser (MIT) (c) 2015 Oluwaseun Ogedengbe, swipe: swipejs.com (MIT) (c) 2013 Brad Birdsall*/
function N(){return 0}function syncJSON(t){/*! http://stackoverflow.com/a/4117299*/
var e=loadTextFileAjaxSync(t,"application/json");return e?JSON.parse(e):0}function loadTextFileAjaxSync(t,e){var n=new XMLHttpRequest;return n.open("GET",t,!1),null!=e&&n.overrideMimeType&&n.overrideMimeType(e),n.send(),n.status<200||n.status>304?null:n.responseText}function jstagecreate(){if(""==cG.script||""==cG.actor||""==cG.stage.body)return void setTimeout(jstagecreate,300);var t=document.createElement("div");t.setAttribute("id","stage"),t.setAttribute("class","swipe");var e=document.createElement("div");for(e.setAttribute("class","swipe-wrap"),i=0;i<cG.script.pages.length;i++){var n=document.createElement("div"),o=document.createElement("img");o.setAttribute("src","assets/"+cG.script.pages[i].url),n.appendChild(o),e.appendChild(n)}t.appendChild(e);var r=document.createElement("p");r.setAttribute("class","controls");var a=document.createElement("button"),s=document.createElement("button"),c=document.createElement("button"),d=(document.createElement("input"),document.createElement("button")),l=document.createElement("button");a.setAttribute("class","frs"),s.setAttribute("class","frs"),d.setAttribute("class","las"),l.setAttribute("class","las"),a.setAttribute("onclick","window.mySwipe.slide(0, 400);"),a.appendChild(document.createTextNode("FIRST")),s.setAttribute("onclick","window.mySwipe.prev();"),s.appendChild(document.createTextNode("PREV")),d.setAttribute("onclick","window.mySwipe.next();"),d.appendChild(document.createTextNode("NEXT")),c.setAttribute("onclick","window.mySwipe.slide(Math.floor(Math.random() * 39),400);"),c.appendChild(document.createTextNode("?")),l.setAttribute("onclick","window.mySwipe.slide(window.mySwipe.getNumSlides()-1,400);"),l.appendChild(document.createTextNode("LAST")),r.appendChild(a),r.appendChild(s),r.appendChild(d),r.appendChild(l),r.appendChild(c),document.body.appendChild(r),document.body.appendChild(t),document.body.appendChild(t),window.mySwipe=new cG.stage.function(document.getElementById("stage"),{startSlide:0,speed:400,auto:3e3,continuous:!0,disableScroll:!1,stopPropagation:!1,callback:function(){},transitionEnd:function(){}}),cG.stage.controls(window.mySwipe)}function stageInjection(){if(""==cG.script||""==cG.actor||""==cG.stage.body||""==cG.decor)return void setTimeout(stageInjection,300);if(!cG.script)return console.error("No script.JSON found. script.JSON is REQUIRED to create stage. Please create a script.JSON or move it to the directory specified in the script tag for comix-ngn or bellerophon if it is added.");var e,n,o,r,a,s=cG.stage.body?cG.stage.body:'<p class="controls"></p><div id="stage" class="swipe"><div id="target" class="swipe-wrap"></div></div>',c=cG.actor?cG.actor:'<div><h1></h1><p><img id="ig" isrc src title alt btog></p></div>',d=cG.decor?cG.decor:'<div id="location"></div><div id="archive">Archive</div><div id="me">About Me</div>',l=document.getElementsByClassName("venue"),u="",h="",p="",g="",v="",m={};for(i=0;i<l.length;i++){if(u=l[i].getAttribute("id"),h=l[i].getAttribute("script"),p=l[i].getAttribute("use"),g=l[i].getAttribute("config"),""==u){for(var b="STG"+i,E=1;document.getElementById(b);)b="STG"+(i+E++);u=""+b,l[i].setAttribute("id",u)}if(""==h?e=cG.script:(e=syncJSON(h),e||(e=cG.script.extras[parseInt(h,10)],void 0===e?e=cG.script:void 0!==e.link&&(e=syncJSON(e.link),e||(e=cG.script)))),""==p?(m.stage=cG.stage,m.stageID=cG.stageID,m.scenography=cG.scenography,m.stage_ctrls=cG.stage_ctrls,m.templates=cG.templates):(m=cG.stageREPO[p],void 0===m?(m.stage=cG.stage,m.stageID=cG.stageID,m.scenography=cG.scenography,m.stage_ctrls=cG.stage_ctrls,m.templates=cG.templates):m.stageID=p),""!=g)try{g=JSON.parse(g)}catch(y){console.debug("The following configuration settings are malformed: ",g,"It has been ignored"),g={}}else g={};for(r=l[i].cloneNode(!1),a=FEbyIdAI(r,["venue","location","target"],[d,s],u),t=0;t<a.length;t++)if("target"==a[t].getAttribute("id")){v=a[t];break}for(v||console.error("target fallback not implemented"),renameEles(!1,r,u),v.innerHTML=c,n=v.children[0].cloneNode(!0),v.innerHTML="",f=0;f<cG.script.pages.length;f++)o=n.cloneNode(!0),renameEles(!0,o,u,f),smartAttrib(o,{img:{isrc:cG.script.pages[f].url,src:""}}),v.appendChild(o);console.log(r),l[i].parentNode.replaceChild(r,l[i]),window[u]=new cG.stage.function(v.parentNode,g)}}function smartAttrib(t,e){var n,i=e[t.nodeName.toLowerCase()];if(void 0!==i&&(void 0===i.count||0!=i.count)){for(n=Object.keys(i),y=0;y<n.length;y++)"count"!=n[y]&&t.setAttribute(n[y],i[n[y]]);i.count>0&&e[t.nodeType.toLowerCase()].count--}for(var o=0;o<t.children.length;o++)smartAttrib(t.children[o],e)}function FEbyIdAI(t,e,n){var i,o=[],r=e.indexOf(t.getAttribute("id"))+1;if(!r){for(i=t.className.split(" "),b=0;b<i.length&&(r=e.indexOf(i[b]),r<0);b++);r++}r&&(t.innerHTML=n[r-1],o.push(t));for(var a=0;a<t.children.length;a++)o=o.concat(FEbyIdAI(t.children[a],e,n,name));return o}function renameEles(t,e,n,i){for(var o=0;o<e.children.length;o++)renameEles(!0,e.children[o],n,i);if(t){var r=void 0===n?"":n+"_",a=void 0===i?"":"_"+i;e.setAttribute("id",r+e.getAttribute("id")+a)}}if(void 0===cG)var cG={};cG.root="",cG.info={vix:"1.7.6",vwr:"1.0.0",vpr:"0.1.0"};var Path={version:"0.8.4",map:function(t){return Path.routes.defined.hasOwnProperty(t)?Path.routes.defined[t]:new Path.core.route(t)},root:function(t){Path.routes.root=t},rescue:function(t){Path.routes.rescue=t},history:{initial:{},pushState:function(t,e,n){Path.history.supported?Path.dispatch(n)&&history.pushState(t,e,n):Path.history.fallback&&(window.location.hash="#"+n)},popState:function(){var t=!Path.history.initial.popped&&location.href==Path.history.initial.URL;Path.history.initial.popped=!0,t||Path.dispatch(document.location.pathname)},listen:function(t){if(Path.history.supported=!(!window.history||!window.history.pushState),Path.history.fallback=t,Path.history.supported)Path.history.initial.popped="state"in window.history,Path.history.initial.URL=location.href,window.onpopstate=Path.history.popState;else if(Path.history.fallback){for(route in Path.routes.defined)"#"!=route.charAt(0)&&(Path.routes.defined["#"+route]=Path.routes.defined[route],Path.routes.defined["#"+route].path="#"+route);Path.listen()}}},match:function(t,e){var n,i,o,r,a,s={},c=null;for(c in Path.routes.defined)if(null!==c&&void 0!==c)for(c=Path.routes.defined[c],n=c.partition(),r=0;r<n.length;r++){if(i=n[r],a=t,i.search(/:/)>0)for(o=0;o<i.split("/").length;o++)o<a.split("/").length&&":"===i.split("/")[o].charAt(0)&&(s[i.split("/")[o].replace(/:/,"")]=a.split("/")[o],a=a.replace(a.split("/")[o],i.split("/")[o]));if(i===a)return e&&(c.params=s),c}return null},dispatch:function(t){var e,n;if(Path.routes.current!==t){if(Path.routes.previous=Path.routes.current,Path.routes.current=t,n=Path.match(t,!0),Path.routes.previous&&(e=Path.match(Path.routes.previous),null!==e&&null!==e.do_exit&&e.do_exit()),null!==n)return n.run(),!0;null!==Path.routes.rescue&&Path.routes.rescue()}},listen:function(){var t=function(){Path.dispatch(location.hash)};""===location.hash&&null!==Path.routes.root&&(location.hash=Path.routes.root),!("onhashchange"in window)||document.documentMode&&document.documentMode<8?setInterval(t,50):window.onhashchange=t,""!==location.hash&&Path.dispatch(location.hash)},core:{route:function(t){this.path=t,this.action=null,this.do_enter=[],this.do_exit=null,this.params={},Path.routes.defined[t]=this}},routes:{current:null,root:null,rescue:null,previous:null,defined:{}}};Path.core.route.prototype={to:function(t){return this.action=t,this},enter:function(t){return t instanceof Array?this.do_enter=this.do_enter.concat(t):this.do_enter.push(t),this},exit:function(t){return this.do_exit=t,this},partition:function(){for(var t,e,n=[],i=[],o=/\(([^}]+?)\)/g;t=o.exec(this.path);)n.push(t[1]);for(i.push(this.path.split("(")[0]),e=0;e<n.length;e++)i.push(i[i.length-1]+n[e]);return i},run:function(){var t,e,n=!1;if(Path.routes.defined[this.path].hasOwnProperty("do_enter")&&Path.routes.defined[this.path].do_enter.length>0)for(t=0;t<Path.routes.defined[this.path].do_enter.length;t++)if(e=Path.routes.defined[this.path].do_enter[t](),e===!1){n=!0;break}n||Path.routes.defined[this.path].action()}},!function(t,e){"undefined"!=typeof module?module.exports=e():"function"==typeof define&&"object"==typeof define.amd?define(e):this[t]=e()}("domReady",function(t){function e(t){for(p=1;t=i.shift();)t()}var n,i=[],o=!1,r=document,a=r.documentElement,s=a.doScroll,c="DOMContentLoaded",d="addEventListener",l="onreadystatechange",u="readyState",h=s?/^loaded|^c/:/^loaded|c/,p=h.test(r[u]);return r[d]&&r[d](c,n=function(){r.removeEventListener(c,n,o),e()},o),s&&r.attachEvent(l,n=function(){/^c/.test(r[u])&&(r.detachEvent(l,n),e())}),t=s?function(e){self!=top?p?e():i.push(e):function(){try{a.doScroll("left")}catch(n){return setTimeout(function(){t(e)},50)}e()}()}:function(t){p?t():i.push(t)}}),void 0===cG.REPO&&(cG.REPO={}),cG.REPO.agent={"default":function(t,e){return e=new XMLHttpRequest,e.open("GET",t),t=[],e.onreadystatechange=e.then=function(n,i,o){if(n&&n.call&&(t=[,n,i]),4==e.readyState&&(o=t[0|e.status/200]))try{o(JSON.parse(e.responseText),e)}catch(r){o(e.responseText,e)}},e.send(),e}},cG.REPO.director={"default":Path},cG.REPO.producer={"default":N},void 0===cG.REPO.stage&&(cG.REPO.stage={"default":{body:""}}),cG.REPO.stage.default.id="default",cG.REPO.stage.default.function=function(t,e){"use strict";function n(){g=E.children,b=g.length,g.length<2&&(e.continuous=!1),f.transitions&&e.continuous&&g.length<3&&(E.appendChild(g[0].cloneNode(!0)),E.appendChild(E.children[1].cloneNode(!0)),g=E.children),v=Array(g.length),m=t.getBoundingClientRect().width||t.offsetWidth,E.style.width=g.length*m+"px";for(var n=g.length;n--;){var i=g[n];i.style.width=m+"px",i.setAttribute("data-index",n),f.transitions&&(i.style.left=n*-m+"px",s(n,y>n?-m:n>y?m:0,0))}e.continuous&&f.transitions&&(s(r(y-1),-m,0),s(r(y+1),m,0)),f.transitions||(E.style.left=y*-m+"px"),t.style.visibility="visible"}function i(){e.continuous?a(y-1):y&&a(y-1)}function o(){e.continuous?a(y+1):y<g.length-1&&a(y+1)}function r(t){return(g.length+t%g.length)%g.length}function a(t,n){if(y!=t){if(f.transitions){var i=Math.abs(y-t)/(y-t);if(e.continuous){var o=i;i=-v[r(t)]/m,i!==o&&(t=-i*g.length+t)}for(var a=Math.abs(y-t)-1;a--;)s(r((t>y?t:y)-a-1),m*i,0);t=r(t),s(y,m*i,n||w),s(t,0,n||w),e.continuous&&s(r(t-i),-(m*i),0)}else t=r(t),d(y*-m,t*-m,n||w);y=t,p(e.callback&&e.callback(y,g[y]))}}function s(t,e,n){c(t,e,n),v[t]=e}function c(t,e,n){var i=g[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform="translate("+e+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+e+"px)")}function d(t,n,i){if(!i)return void(E.style.left=n+"px");var o=+new Date,r=setInterval(function(){var a=+new Date-o;return a>i?(E.style.left=n+"px",x&&l(),e.transitionEnd&&e.transitionEnd.call(event,y,g[y]),void clearInterval(r)):void(E.style.left=(n-t)*(Math.floor(a/i*100)/100)+t+"px")},4)}function l(){G=setTimeout(o,x)}function u(){x=0,clearTimeout(G)}var h=function(){},p=function(t){setTimeout(t||h,0)},f={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(document.createElement("swipe"))};if(t){var g,v,m,b,E=t.children[0];e=e||{};var y=parseInt(e.startSlide,10)||0,w=e.speed||300;e.continuous=void 0!==e.continuous?e.continuous:!0;var G,P,x=e.auto||0,O={},T={},A={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":p(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":p(this.transitionEnd(t));break;case"resize":p(n)}e.stopPropagation&&t.stopPropagation()},start:function(t){var e=t.touches[0];O={x:e.pageX,y:e.pageY,time:+new Date},P=void 0,T={},E.addEventListener("touchmove",this,!1),E.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){e.disableScroll&&t.preventDefault();var n=t.touches[0];T={x:n.pageX-O.x,y:n.pageY-O.y},void 0===P&&(P=!(!P&&Math.abs(T.x)>=Math.abs(T.y))),P||(t.preventDefault(),u(),e.continuous?(c(r(y-1),T.x+v[r(y-1)],0),c(y,T.x+v[y],0),c(r(y+1),T.x+v[r(y+1)],0)):(T.x=T.x/(!y&&T.x>0||y==g.length-1&&T.x<0?Math.abs(T.x)/m+1:1),c(y-1,T.x+v[y-1],0),c(y,T.x+v[y],0),c(y+1,T.x+v[y+1],0)))}},end:function(){var t=+new Date-O.time,n=250>+t&&Math.abs(T.x)>20||Math.abs(T.x)>m/2,i=!y&&T.x>0||y==g.length-1&&T.x<0;e.continuous&&(i=!1);var o=T.x<0;P||(n&&!i?(o?(e.continuous?(s(r(y-1),-m,0),s(r(y+2),m,0)):s(y-1,-m,0),s(y,v[y]-m,w),s(r(y+1),v[r(y+1)]-m,w),y=r(y+1)):(e.continuous?(s(r(y+1),m,0),s(r(y-2),-m,0)):s(y+1,m,0),s(y,v[y]+m,w),s(r(y-1),v[r(y-1)]+m,w),y=r(y-1)),e.callback&&e.callback(y,g[y])):e.continuous?(s(r(y-1),-m,w),s(y,0,w),s(r(y+1),m,w)):(s(y-1,-m,w),s(y,0,w),s(y+1,m,w))),E.removeEventListener("touchmove",A,!1),E.removeEventListener("touchend",A,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==y&&(x&&l(),e.transitionEnd&&e.transitionEnd.call(t,y,g[y]))}};return n(),x&&l(),f.addEventListener?(f.touch&&E.addEventListener("touchstart",A,!1),f.transitions&&(E.addEventListener("webkitTransitionEnd",A,!1),E.addEventListener("msTransitionEnd",A,!1),E.addEventListener("oTransitionEnd",A,!1),E.addEventListener("otransitionend",A,!1),E.addEventListener("transitionend",A,!1)),window.addEventListener("resize",A,!1)):window.onresize=function(){n()},{setup:function(){n()},slide:function(t,e){u(),a(t,e)},prev:function(){u(),i()},next:function(){u(),o()},stop:function(){u()},getPos:function(){return y},getNumSlides:function(){return b},kill:function(){u(),E.style.width="",E.style.left="";for(var t=g.length;t--;){var e=g[t];e.style.width="",e.style.left="",f.transitions&&c(t,0,0)}f.addEventListener?(E.removeEventListener("touchstart",A,!1),E.removeEventListener("webkitTransitionEnd",A,!1),E.removeEventListener("msTransitionEnd",A,!1),E.removeEventListener("oTransitionEnd",A,!1),E.removeEventListener("otransitionend",A,!1),E.removeEventListener("transitionend",A,!1),window.removeEventListener("resize",A,!1)):window.onresize=null}}}},cG.REPO.stage.default.controls=function(t){for(var e=["frst","left","rght","last","rand"],n=["slide(0, 400)","prev()","next()","slide(39,400)","slide(Math.floor(Math.random() * 39),400)"],i=0;i<e.length;i++)t[e[i]]=function(){t[n[i]]};t.indx=function(e){t.slide(Math.max(0,Math.min(e,39)),400)}},cG.REPO.stage.default.scenography=document.createElement("style"),cG.REPO.stage.default.scenography.setAttribute("id","scenography"),cG.REPO.stage.default.scenography.appendChild(document.createTextNode('article,aside,b,body,dd,del,dfn,div,dl,dt,em,fieldset,footer,form,h1,h2,h3,h4,h5,h6,header,html,i,iframe,img,ins,kbd,label,li,nav,object,ol,p,q,samp,section,small,span,strong,table,tbody,td,tfoot,th,thead,tr,ul{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:0 0}body{-webkit-text-size-adjust:none;font-family:sans-serif;min-height:416px}h1{font-size:33px;margin:50px 0 15px;text-align:center;color:#212121}h2{font-size:14px;font-weight:700;color:#3c3c3c;margin:20px 10px 10px}small{margin:0 10px 30px;display:block;font-size:12px}a{margin:0 0 0 10px;font-size:12px;color:#3c3c3c}body,html{background:#f3f3f3}#console{font-size:12px;font-family:Inconsolata,Monaco,Consolas,"Andale Mono","Bitstream Vera Sans Mono","Courier New",Courier,monospace;color:#999;line-height:18px;margin-top:20px;max-height:150px;overflow:auto}#mySwipe div b{display:block;font-weight:700;color:#14ADE5;font-size:20px;text-align:center;margin:10px;padding:100px 10px;box-shadow:0 1px #EBEBEB;background:#fff;border-radius:3px;border:1px solid;border-color:#E5E5E5 #D3D3D3 #B9C1C6}.swipe{overflow:hidden;visibility:hidden;position:relative}.swipe-wrap{overflow:hidden;position:relative}.swipe-wrap>div{float:left;width:100%;position:relative}')),void 0===cG.REPO.actor&&(cG.REPO.actor={"default":""}),void 0===cG.REPO.decor&&(cG.REPO.decor={"default":""}),void 0===cG.REPO.script&&(cG.REPO.script={"default":""}),cG.agent=cG.REPO.agent.default,cG.director=cG.REPO.director.default,cG.producer=cG.REPO.producer.default,cG.actor=cG.REPO.actor.default,cG.decor=cG.REPO.decor.default,cG.script=cG.REPO.script.default,cG.stage=cG.REPO.stage.default,document.head.appendChild(cG.stage.scenography);var dir="",tir="",srcs=document.getElementsByTagName("src");for(i=0;i<srcs.length&&(dir=src[i].getAttribute("dir"),""==dir);i++);for(i=0;i<srcs.length&&(tir=src[i].getAttribute("template"),""==tir);i++);for(i=0;i<srcs.length&&(cG.root=src[i].getAttribute("plugin"),""==cG.root);i++);if(""==cG.root&&(cG.root="default"),void 0===getScript){var getScript=cG.agent(dir+"script.json");getScript.then(function(t){cG.script=cG.REPO.script.default=t},function(t,e){console.error(t,e.status),cG.script=cG.REPO.script.default=0})}if(void 0===getStage){var getStage=cG.agent(tir+"stage.html");getStage.then(function(t){cG.stage.body=cG.REPO.stage.default.body=t},function(t,e){console.error(t,e.status),cG.stage.body=cG.REPO.stage.default.body=0})}if(void 0===getDecor){var getDecor=cG.agent(tir+"costumes.html");getDecor.then(function(t){cG.decor=cG.REPO.decor.default=t},function(t,e){console.error(t,e.status),cG.decor=cG.REPO.decor.default=0})}if(void 0===getActor){var getActor=cG.agent(tir+"actor.html");getActor.then(function(t){cG.actor=cG.REPO.actor.default=t},function(t,e){console.error(t,e.status),cG.actor=cG.REPO.actor.default=0})}domReady(function(){document.getElementById("$COMICNGWRITER$$$")||(void 0===$GPC&&($GPC=0),console.log("%c %c %c comix-ngn v"+cG.info.vix+" %c ☯ %c © 2015 Oluwaseun Ogedengbe %c Plugins: "+$GPC,"color:white; background:#2EB531","background:purple","color:white; background:#32E237","color:red; background:black","color:white; background:#2EB531","color:white; background:purple")),stageInjection()});