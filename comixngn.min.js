/*
 comix-ngn v1.4.0 | (c) 2015 Oluwaseun Ogedengbe| ogewan.github.io/comix-ngn/ |License: MIT|
embeds domReady: github.com/ded/domready (MIT) (c) 2013 Dustin Diaz, pegasus: typicode.github.io/pegasus (MIT) (c) 2014 typicode, pathjs (MIT) (c) 2011 Mike Trpcic, direction.js*/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,r,t){if(t.get||t.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[r]=t.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var r=0;return $jscomp.iteratorPrototype(function(){return r<a.length?{done:!1,value:a[r++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(a,r){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var t=0,w={next:function(){if(t<a.length){var x=t++;return{value:r(x,a[x]),done:!1}}w.next=function(){return{done:!0,value:void 0}};return w.next()}};w[Symbol.iterator]=function(){return w};return w};
$jscomp.polyfill=function(a,r,t,w){if(r){t=$jscomp.global;a=a.split(".");for(w=0;w<a.length-1;w++){var x=a[w];x in t||(t[x]={});t=t[x]}a=a[a.length-1];w=t[a];r=r(w);r!=w&&null!=r&&$jscomp.defineProperty(t,a,{configurable:!0,writable:!0,value:r})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
(function(){var a=a||{};a.N=function(){return 0};void 0===a.$GPC&&(a.$GPC=0);a.root="";a.cPanel=a.cPanel||{};(function(){var d={fstrun:!0,pgepsh:!0,pgesve:!0,rtepge:!0,protect:!0,noverwrite:!0,arrow:!0,vscript:!1,click:!0};if(a.fBox)for(var c in d)a.fBox.hasOwnProperty(c)||(a.fBox[c]=d[c]);else a.fBox=d})();a.info={vix:"1.3.5",vwr:"2.0.0",vpr:"0.1.0",vxx:"0.0.2"};a.dis=a.dis||{};a.recyclebin=a.recyclebin||{};a.queue=a.queue||{};a.comicID=a.comicID||window.location.host;a.prePage=a.prePage||-1;a.controllers=
a.controllers||{};a.avx=a.avx||a.info.vix.split(".");a.info.vrb=1;Object.defineProperty(a,"script$",{get:function(){return a.script},set:function(d){if("string"===typeof d)try{d=JSON.parse(d)}catch(c){console.error("Script must be valid JSON")}a.comix.internals=d;a.comix.frst()}});a.verbose=function(d){var c=[],g=1,e=1;for(null===d||void 0===d||isNaN(parseInt(d,10))?e=0:g=d;e<arguments.length;e++)c.push(arguments[e]);(null===a.info.vrb||void 0===a.info.vrb?0:a.info.vrb)>=g&&console.log([].concat(c).join(" "))};
a.REPO=a.REPO||{};a.REPO.rdy={def:function(a){return"undefined"!=typeof module&&module.exports?module.exports=a():"function"==typeof define&&"object"==define.amd&&define(a),a()}(function(){var a,c=[],g="object"==typeof document&&document,e=g&&g.documentElement.doScroll,f=g&&(e?/^loaded|^c/:/^loaded|^i|^c/).test(g.readyState);return!f&&g&&g.addEventListener("DOMContentLoaded",a=function(){g.removeEventListener("DOMContentLoaded",a);for(f=1;a=c.shift();)a()}),function(a){f?setTimeout(a,0):c.push(a)}})};
a.REPO.agent={def:function(a,c){return c=new XMLHttpRequest,c.open("GET",a),a=[],c.onreadystatechange=c.then=function(d,e,f){if(d&&d.call&&(a=[,d,e]),4==c.readyState&&(f=a[0|c.status/200]))try{f(JSON.parse(c.responseText),c)}catch(l){f(c.responseText,c)}},c.send(),c}};a.REPO.director={def:function(){var a={version:"0.8.4",map:function(c){return a.routes.defined.hasOwnProperty(c)?a.routes.defined[c]:new a.core.route(c)},root:function(c){a.routes.root=c},rescue:function(c){a.routes.rescue=c},history:{initial:{},
pushState:function(c,d,e){a.history.supported?a.dispatch(e)&&history.pushState(c,d,e):a.history.fallback&&(window.location.hash="#"+e)},popState:function(c){c=!a.history.initial.popped&&location.href==a.history.initial.URL;a.history.initial.popped=!0;c||a.dispatch(document.location.pathname)},listen:function(c){a.history.supported=!(!window.history||!window.history.pushState);a.history.fallback=c;if(a.history.supported)a.history.initial.popped="state"in window.history,a.history.initial.URL=location.href,
window.onpopstate=a.history.popState;else if(a.history.fallback){for(route in a.routes.defined)"#"!=route.charAt(0)&&(a.routes.defined["#"+route]=a.routes.defined[route],a.routes.defined["#"+route].path="#"+route);a.listen()}}},match:function(c,d){var g={},f=null,l,p,k,q,h;for(f in a.routes.defined)if(null!==f&&void 0!==f)for(f=a.routes.defined[f],l=f.partition(),q=0;q<l.length;q++){p=l[q];h=c;if(0<p.search(/:/))for(k=0;k<p.split("/").length;k++)k<h.split("/").length&&":"===p.split("/")[k].charAt(0)&&
(g[p.split("/")[k].replace(/:/,"")]=h.split("/")[k],h=h.replace(h.split("/")[k],p.split("/")[k]));if(p===h)return d&&(f.params=g),f}return null},dispatch:function(c){var d;if(a.routes.current!==c){a.routes.previous=a.routes.current;a.routes.current=c;d=a.match(c,!0);a.routes.previous&&(c=a.match(a.routes.previous),null!==c&&null!==c.do_exit&&c.do_exit());if(null!==d)return d.run(),!0;null!==a.routes.rescue&&a.routes.rescue()}},listen:function(){var c=function(){a.dispatch(location.hash)};""===location.hash&&
null!==a.routes.root&&(location.hash=a.routes.root);"onhashchange"in window&&(!document.documentMode||8<=document.documentMode)?window.onhashchange=c:setInterval(c,50);""!==location.hash&&a.dispatch(location.hash)},core:{route:function(c){this.path=c;this.action=null;this.do_enter=[];this.do_exit=null;this.params={};a.routes.defined[c]=this}},routes:{current:null,root:null,rescue:null,previous:null,defined:{}}};a.core.route.prototype={to:function(a){this.action=a;return this},enter:function(a){a instanceof
Array?this.do_enter=this.do_enter.concat(a):this.do_enter.push(a);return this},exit:function(a){this.do_exit=a;return this},partition:function(){for(var a=[],d=[],e=/\(([^}]+?)\)/g,f;f=e.exec(this.path);)a.push(f[1]);d.push(this.path.split("(")[0]);for(e=0;e<a.length;e++)d.push(d[d.length-1]+a[e]);return d},run:function(){var c=!1,d,e;if(a.routes.defined[this.path].hasOwnProperty("do_enter")&&0<a.routes.defined[this.path].do_enter.length)for(d=0;d<a.routes.defined[this.path].do_enter.length;d++)if(e=
a.routes.defined[this.path].do_enter[d](),!1===e){c=!0;break}c||a.routes.defined[this.path].action()}};return a}()};a.REPO.producer={def:a.N};a.REPO.scReq=a.REPO.scReq||{};a.REPO.ctrls=a.REPO.ctrls||{def:""};a.REPO.decor=a.REPO.decor||{def:""};a.REPO.script=a.REPO.script||{def:""};a.agent=a.REPO.agent.def;a.director=a.REPO.director.def;a.producer=a.REPO.producer.def;a.ctrls=a.REPO.ctrls.def;a.decor=a.REPO.decor.def;a.script=a.REPO.script.def;a.rdy=a.REPO.rdy.def;if(1!=a.dis.rollbar){var r=r||{accessToken:"3e8e8ecb63a04b5798e1d02adf2608cb",
ignoredMessages:["CNG Plug-in:","status:"],captureUncaught:!0,captureUnhandledRejections:!0,payload:{environment:"development",client:{javascript:{source_map_enabled:!0,code_version:a.info.vix,guess_uncaught_frames:!0}}}};!function(a){function c(e){if(d[e])return d[e].exports;var f=d[e]={exports:{},id:e,loaded:!1};return a[e].call(f.exports,f,f.exports,c),f.loaded=!0,f.exports}var d={};return c.m=a,c.c=d,c.p="",c(0)}([function(a,c,g){a=g(1);c=g(4);r=r||{};r.rollbarJsUrl=r.rollbarJsUrl||"https://cdnjs.cloudflare.com/ajax/libs/rollbar.js/2.4.0/rollbar.min.js";
r.async=void 0===r.async||r.async;g=a.setupShim(window,r);c=c(r);window.rollbar=a.Rollbar;g.loadFull(window,document,!r.async,r,c)},function(a,c,g){function d(a){return function(){try{return a.apply(this,arguments)}catch(A){try{console.error("[Rollbar]: Internal error",A)}catch(m){}}}}function f(a,c){this.options=a;this._rollbarOldOnError=null;var d=k++;this.shimId=function(){return d};"undefined"!=typeof window&&window._rollbarShims&&(window._rollbarShims[d]={handler:c,messages:[]})}function l(a){return d(function(){var c=
Array.prototype.slice.call(arguments,0),c={shim:this,method:a,args:c,ts:new Date};window._rollbarShims[this.shimId()].messages.push(c)})}var p=g(2),k=0,q=g(3).bind(null,function(a,c){return new f(a,c)});f.prototype.loadFull=function(a,c,f,e,g){var h=!1,m=c.createElement("script");c=c.getElementsByTagName("script")[0];var l=c.parentNode;m.crossOrigin="";m.src=e.rollbarJsUrl;f||(m.async=!0);m.onload=m.onreadystatechange=d(function(){if(!(h||this.readyState&&"loaded"!==this.readyState&&"complete"!==
this.readyState)){m.onload=m.onreadystatechange=null;try{l.removeChild(m)}catch(D){}h=!0;var c;if(void 0===a._rollbarDidLoad){c=Error("rollbar.js did not load");for(var d,f,e,k=0;d=a._rollbarShims[k++];)for(d=d.messages||[];f=d.shift();)for(f=f.args||[],k=0;k<f.length;++k)if(e=f[k],"function"==typeof e){e(c);break}}"function"==typeof g&&g(c)}});l.insertBefore(m,c)};f.prototype.wrap=function(a,c,d){try{var f;if((f="function"==typeof c?c:function(){return c||{}},"function"!=typeof a)||a._isWrap)return a;
if(!a._rollbar_wrapped&&(a._rollbar_wrapped=function(){d&&"function"==typeof d&&d.apply(this,arguments);try{return a.apply(this,arguments)}catch(B){var c=B;throw c&&("string"==typeof c&&(c=new String(c)),c._rollbarContext=f()||{},c._rollbarContext._wrappedSource=a.toString(),window._rollbarWrappedError=c),c;}},a._rollbar_wrapped._isWrap=!0,a.hasOwnProperty))for(var e in a)a.hasOwnProperty(e)&&(a._rollbar_wrapped[e]=a[e]);return a._rollbar_wrapped}catch(n){return a}};c="log debug info warn warning error critical global configure handleUncaughtException handleUnhandledRejection captureEvent captureDomContentLoaded captureLoad".split(" ");
for(g=0;g<c.length;++g)f.prototype[c[g]]=l(c[g]);a.exports={setupShim:function(a,c){if(a){var f=c.globalAlias||"Rollbar";if("object"==typeof a[f])return a[f];a._rollbarShims={};a._rollbarWrappedError=null;var e=new q(c);return d(function(){c.captureUncaught&&(e._rollbarOldOnError=a.onerror,p.captureUncaughtExceptions(a,e,!0),p.wrapGlobals(a,e,!0));c.captureUnhandledRejections&&p.captureUnhandledRejections(a,e,!0);var d=c.autoInstrument;return!1!==c.enabled&&(void 0===d||!0===d||"object"==typeof d&&
d.network)&&a.addEventListener&&(a.addEventListener("load",e.captureLoad.bind(e)),a.addEventListener("DOMContentLoaded",e.captureDomContentLoaded.bind(e))),a[f]=e,e})()}},Rollbar:q}},function(a,c){function d(a,c,d){if(c.hasOwnProperty&&c.hasOwnProperty("addEventListener")){for(var f=c.addEventListener;f._rollbarOldAdd&&f.belongsToShim;)f=f._rollbarOldAdd;var e=function(c,d,e){f.call(this,c,a.wrap(d),e)};e._rollbarOldAdd=f;e.belongsToShim=d;c.addEventListener=e;for(var g=c.removeEventListener;g._rollbarOldRemove&&
g.belongsToShim;)g=g._rollbarOldRemove;e=function(a,c,d){g.call(this,a,c&&c._rollbar_wrapped||c,d)};e._rollbarOldRemove=g;e.belongsToShim=d;c.removeEventListener=e}}a.exports={captureUncaughtExceptions:function(a,c,d){if(a){var f;"function"==typeof c._rollbarOldOnError?f=c._rollbarOldOnError:a.onerror&&!a.onerror.belongsToShim&&(f=a.onerror,c._rollbarOldOnError=f);var e=function(){var d=Array.prototype.slice.call(arguments,0),e=f;a._rollbarWrappedError&&(d[4]||(d[4]=a._rollbarWrappedError),d[5]||
(d[5]=a._rollbarWrappedError._rollbarContext),a._rollbarWrappedError=null);c.handleUncaughtException.apply(c,d);e&&e.apply(a,d)};e.belongsToShim=d;a.onerror=e}},captureUnhandledRejections:function(a,c,d){if(a){"function"==typeof a._rollbarURH&&a._rollbarURH.belongsToShim&&a.removeEventListener("unhandledrejection",a._rollbarURH);var f=function(a){var d,f,e;try{d=a.reason}catch(m){d=void 0}try{f=a.promise}catch(m){f="[unhandledrejection] error getting `promise` from event"}try{e=a.detail,!d&&e&&(d=
e.reason,f=e.promise)}catch(m){}d||(d="[unhandledrejection] error getting `reason` from event");c&&c.handleUnhandledRejection&&c.handleUnhandledRejection(d,f)};f.belongsToShim=d;a._rollbarURH=f;a.addEventListener("unhandledrejection",f)}},wrapGlobals:function(a,c,g){if(a){var f,e,l="EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".split(" ");
for(f=0;f<l.length;++f)e=l[f],a[e]&&a[e].prototype&&d(c,a[e].prototype,g)}}}},function(a,c){function d(a,c){this.impl=a(c,this);this.options=c;e(d.prototype)}function e(a){for(var c=function(a){return function(){var c=Array.prototype.slice.call(arguments,0);if(this.impl[a])return this.impl[a].apply(this.impl,c)}},d="log debug info warn warning error critical global configure handleUncaughtException handleUnhandledRejection _createItem wrap loadFull shimId captureEvent captureDomContentLoaded captureLoad".split(" "),
f=0;f<d.length;f++)a[d[f]]=c(d[f])}d.prototype._swapAndProcessMessages=function(a,c){this.impl=a(this.options);for(var d,f,e;d=c.shift();)f=d.method,e=d.args,this[f]&&"function"==typeof this[f]&&("captureDomContentLoaded"===f||"captureLoad"===f?this[f].apply(this,[e[0],d.ts]):this[f].apply(this,e));return this};a.exports=d},function(a,c){a.exports=function(a){return function(c){if(!c&&!window._rollbarInitialized){a=a||{};for(var d,e=a.globalAlias||"Rollbar",g=window.rollbar,k=function(a){return new g(a)},
q=0;c=window._rollbarShims[q++];)d||(d=c.handler),c.handler._swapAndProcessMessages(k,c.messages);window[e]=d;window._rollbarInitialized=!0}}}}])}else window.console.debug("status: rollbar disabled");!function(){var d=document.getElementsByTagName("SCRIPT"),c=0;if(void 0!==d||null!==d){for(var g=0;g<d.length;g++)if(0<=d[g].src.indexOf("comixngn")){d=d[g];c=1;break}if(!c)return-1;a.comicID=a.comicID||d.getAttribute("comicID");void 0!==d.getAttribute("plugin")&&null!==d.getAttribute("plugin")&&(c=d.getAttribute("plugin").replace(/\s+/g,
"").split(","),a.root=c);if(void 0!==d.getAttribute("disable")&&null!==d.getAttribute("disable"))for(c=d.getAttribute("disable").replace(/\s+/g,"").split(","),g=0;g<c.length;g++)""!=c[g]&&void 0!==c[g]&&" "!=c[g]&&(a.dis[c[g]]=!0);void 0!==d.getAttribute("VERSION")&&null!==d.getAttribute("VERSION")&&(a.info.vix=d.getAttribute("VERSION"));void 0!==d.getAttribute("air")&&null!==d.getAttribute("air")&&(a.recyclebin.air=d.getAttribute("air"));void 0!==d.getAttribute("fBox")&&null!==d.getAttribute("fBox")&&
(a.fBox=JSON.parse(d.getAttribute("fBox")))}}();!function(){for(var d,c,g=document.getElementsByTagName("SCRIPT"),e=0;e<g.length;e++)if(0<=g[e].src.indexOf("comixngn")||0<=g[e].src.indexOf(".cng.")){d=g[e].getAttribute("dir");c=g[e].getAttribute("tir");break}d=d||"";c=c||"";""==a.root&&(a.root="def");void 0===a.REPO.scReq.getScript&&(a.REPO.scReq.getScript=a.agent(d+"script.json"),a.REPO.scReq.getScript.then(function(c,d){a.script=a.REPO.script.def=c},function(c,e){4<=a.info.vrb?console.error(c,e.status):
1<=a.info.vrb&&a.verbose(1,d+"script.json not found");a.script=a.REPO.script.def=0}));void 0===a.REPO.scReq.getDecor&&(a.REPO.scReq.getDecor=a.agent(c+"decor.html"),a.REPO.scReq.getDecor.then(function(c,d){a.decor=a.REPO.decor.def=c},function(c,d){4<=a.info.vrb&&console.error(c,d.status);a.decor=a.REPO.decor.def=0}));void 0===a.REPO.scReq.getCtrls&&(a.REPO.scReq.getCtrls=a.agent(c+"ctrls.html"),a.REPO.scReq.getCtrls.then(function(c,d){a.ctrls=a.REPO.ctrls.def=c},function(c,d){4<=a.info.vrb&&console.error(c,
d.status);a.ctrls=a.REPO.ctrls.def=0}))}();a.REPO.stage=function(d){return{def:{id:"def",construct:function(c,g,e,f){f=g.config;var l=g.loading,p=g.pages,k=-1,p=p?p.map(function(a){return a.url[0]}):[],q={};t(g)&&(t(f)&&(void 0!==f.dir&&(q.dir=f.dir),void 0!==f.imgprebuffer&&(q.imgprebuffer=f.imgprebuffer),void 0!==f.imgpostbuffer&&(q.imgpostbuffer=f.imgpostbuffer)),t(l)&&(void 0!==l.lines&&(q.lines=l.lines),void 0!==l.rate&&(q.rate=l.rate),void 0!==l.diameter&&(q.diameter=l.diameter),void 0!==l.back&&
(q.loaderback=l.back),void 0!==l.color&&(q.color=l.color)));"undefined"!==typeof Storage&&(k=parseInt(localStorage.getItem(a.comicID+"|"+c+"|curPage"),10),a.verbose(1,a.comicID+"|"+c+"|curPage",":",k));t(a.comix)&&(k=a.prePage);0>k&&(k=f.startpage);var h=new d(p,e,k,q);h.name=c;h.type="def";h.pg=[e];h.at=0;h.my=0;h.internals=g||{pages:[],chapters:[],config:{},loading:{}};h.commitSwap=function(){var a=h.internals,c=a.pages.map(function(a){return a.url[0]}),d={},f=a.config,e=a.loading;t(a)&&(t(f)&&
(void 0!==f.dir&&(d.dir=f.dir),void 0!==f.imgprebuffer&&(d.imgprebuffer=f.imgprebuffer),void 0!==f.imgpostbuffer&&(d.imgpostbuffer=f.imgpostbuffer)),void 0!==a.loading&&null!==a.loading&&(void 0!==e.lines&&(d.lines=e.lines),void 0!==e.rate&&(d.rate=e.rate),void 0!==e.diameter&&(d.diameter=e.diameter),void 0!==e.back&&(d.loaderback=e.back),void 0!==e.color&&(d.color=e.color)));h.swap(c,d)};var A=h.data;h.data=function(a){a=A(a);return t(a)?a:{}};h.navto=function(a){return null!==a&&void 0!==a&&a<h.pg.length?
h.pg[a]._nav():h.pg[h.my]._nav()};h.ch_data=function(a){var c=h.internals.chapters;a=null===a||void 0===a?h.ch_current():a;return-1==h.ch_current()?{}:isNaN(a)?c[h.ch_current()]:c[a]};h.ch_count=function(){return h.internals.chapters.length};h.ch_current=function(){for(var a=h.internals.chapters,c=h.current(),d=0;d<a.length;d++)if(a[d].start<=c&&c<=a[d].end)return d;return-1};h.ch_go=function(a,c){var d=null===a||void 0===a?0:a,d=isNaN(d)?0:d,e;e=null===c&&void 0===c?"start":"end";return-1==h.ch_current()?
h.go():h.go(h.internals.chapters[Math.floor(Math.max(0,Math.min(h.internals.chapters.length-1,d)))][e])};h.ch_prev=function(a){if(-1==h.ch_current())return h.go();a=null===a&&void 0===a?"start":"end";return h.go(h.internals.chapters[Math.max(0,h.ch_current()-1)][a])};h.ch_next=function(a){if(-1==h.ch_current())return h.go();a=null===a&&void 0===a?"start":"end";return h.go(h.internals.chapters[Math.min(h.ch_count()-1,h.ch_current()+1)][a])};h.ch_frst=function(a){return-1==h.ch_current()?h.go():h.go(h.internals.chapters[0][null===
a&&void 0===a?"start":"end"])};h.ch_last=function(a){if(-1==h.ch_current())return h.go();a=null===a&&void 0===a?"start":"end";return h.go(h.internals.chapters[h.ch_count()-1][a])};h.callback(1,function(){a.fBox.pgesve&&localStorage.setItem(a.comicID+"|"+c+"|curPage",a.cPanel[c].current().toString());if(a.comix===a.cPanel[c]&&a.script.config){var d=a.script.config,f=d.orderby,g=d.dateformat,h=d.chapterstartnum?1:0,d=d.pagestartnum?1:0,l=a.cPanel[c].current();switch(f){case 1:console.log(l);g=a.cPanel[c].ch_current();
l=g+h+"/"+(l-a.cPanel[c].internals.chapters[g].start+d);break;case 2:h=new Date(1E3*a.cPanel[c].data().release);g=g.split("/");for(f=0;3>f;f++)g[f].indexOf("Y")+1?g[f]=h.getFullYear()-100+2E3:g[f].indexOf("M")+1?g[f]=h.getMonth()+1:g[f].indexOf("D")+1&&(g[f]=h.getDate());l=g.join("/");break;default:l+=d}a.verbose(1,c,"Pushing state:",l);a.fBox.pgepsh&&history.pushState({},void 0,"#/"+l)}if(void 0!==a.queue.stageChange)for(var k in a.queue.stageChange)if(a.queue.stageChange.hasOwnProperty(k))a.queue.stageChange[k](a.cPanel[c]);
k=a.cPanel[c].data(a.cPanel[c].current()).special;f=document.getElementById(c+"_tempScript");g=x(a.cPanel[c].canvi[0],null,null,0);h=x(a.cPanel[c].canvi[1],null,null,1);void 0!==f&&null!==f&&(e.removeChild(f),g._show(),h._show());null!==k&&void 0!==k&&""!=k&&(f=document.createElement("SPAN"),f.setAttribute("id",c+"_tempScript"),f.innerHTML=k,e.appendChild(f),g._hide(),h._hide())});a.comix=a.fBox.protect?a.comix||h:h;return h}}}};a.REPO.stage=a.REPO.stage(function(a,c,g,e){if(void 0===a)return-1;g=
g||0;e=e||{};if(void 0===c||null==c)c=document.body;var d=a.slice().map(function(a){return{s:a}}),l=!0,p=-1,k=-1,q={lines:e.lines||16,rate:e.rate||1E3/30,dia:e.diameter||250,back:e.loaderback||"#FFF",color:e.color||"#373737"},h={dir:e.dir||"",irb:e.imgprebuffer||5,itb:e.imgpostbuffer||5,back:e.back||"#FFF"},A=[],m=[],u=new Image,t=!0,n=[document.createElement("canvas"),document.createElement("canvas")],r=n[1].getContext("2d"),v={run:function(a){for(var c=0;c<v[a].length;c++)v[a][c]()},start:[],slidn:[],
slidd:[]},z={ctx:n[0].getContext("2d"),color:q.color,start:Date.now(),lines:q.lines,dia:q.dia,rate:q.rate},w=function(a){n[0].style.paddingLeft=(n[1].width-300)/2+"px";var c=Math.floor((Date.now()-a.start)/1E3*a.lines)/a.lines,d=a.color.substr(1);a.ctx.save();a.ctx.clearRect(0,0,300,n[1].height);a.ctx.translate(150,n[1].height/2);a.ctx.rotate(2*Math.PI*c);3==d.length&&(d=d[0]+C[0]+d[1]+d[1]+d[2]+d[2]);for(var c=parseInt(d.substr(0,2),16).toString(),e=parseInt(d.substr(2,2),16).toString(),d=parseInt(d.substr(4,
2),16).toString(),f=0;f<a.lines;f++)a.ctx.beginPath(),a.ctx.rotate(2*Math.PI/a.lines),a.ctx.moveTo(a.dia/10,0),a.ctx.lineTo(a.dia/4,0),a.ctx.lineWidth=a.dia/30,a.ctx.strokeStyle="rgba("+c+","+e+","+d+","+f/a.lines+")",a.ctx.stroke();a.ctx.restore();l?window.setTimeout(w,a.rate,z):a.ctx.clearRect(0,0,300,n[1].height)},x=function(a,c){if(null===a||void 0===a)a={x:0,y:0};else if(isNaN(a)){if(null===a.y||void 0===a.y)a.y=0;if(null===a.x||void 0===a.x)a.x=0}else a={x:0,y:a};if(null===c||void 0===c||0>=
c)c=400;0>a.y&&(a.y=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight);0>a.x&&(a.x=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth);var d={x:void 0!==window.pageXOffset?a.x-window.pageXOffset:a.x-document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?a.y-window.pageYOffset:a.y-document.documentElement.scrollTop};if(d=={x:0,y:0})return d;var e=function(a,c,d){window.scrollBy(Math.floor(a.x)/c,Math.floor(a.y)/c);d+1<5*
c&&(p=window.setTimeout(e,5,a,c,d+1))};p=window.setTimeout(e,5,d,Math.floor(c/5),0);return d};a=function(){d[this.imaginaryID].loaded=!0};var y=function(a,c){l=!0;window.setTimeout(w,q.rate,z);v.run("start");0>c&&(c=0);c>=d.length&&(c=d.length-1);if(!(0>c)){d[c].loaded||r.clearRect(0,0,n[1].width,n[1].height);a.imaginaryID=c;a.src=h.dir+d[c].s;k=c;var e=0,f;for(f=c-1;f>c-h.irb-1&&0<=f;f--)d[f].loaded||(m[e].imaginaryID=f,m[e].src=h.dir+d[f].s,e++);e=0;for(f=c+1;f<h.itb+c+1&&f<d.length;f++)d[f].loaded||
(A[e].imaginaryID=f,A[e].src=h.dir+d[f].s,e++)}},E=function(a,c){for(var d in c)a.hasOwnProperty(d)&&(a[d]=c[d])};window.jQuery&&function(){try{jQuery.fn.direction=function(a,c,d){return this.each(function(){direction(a,$(this),c,d)})}}catch(D){console.log("failed to attach to jQuery")}}();this.canvi=n;this.cb=v;this.cnl=function(){window.clearTimeout(p)};this.swap=function(a,c,e){d=Array.isArray(a)?a.slice().map(function(c,d){return{s:c,d:d?d==a.length-1?1:0:-1}}):d;c&&(E(q,c),E(h,c));this.go(e||
0)};this.count=function(){return d.length};this.current=function(){return k};this.callback=function(a,c,d){if(null===a||void 0===a)return v.slidn;if(null===c||void 0===c)return null===d||void 0===d?a?0<a?v.slidd[d]:v.start[d]:v.slidn[d]:a?0<a?v.slidd:v.start:v.slidn;!a||null!==d&&void 0!==d?null!==d&&void 0!==d||v.slidn.push(c):0<a?v.slidd.push(c):v.start.push(c);return 1};this.go=function(a){a=null===a||void 0===a?0:parseInt(a,10);a=isNaN(a)?0:a;y(u,Math.floor(Math.max(0,Math.min(d.length-1,a))));
return a};this.prev=function(){var a=k-1;0<=a&&y(u,a);return a};this.next=function(){var a=k+1;a<d.length&&y(u,a);return a};this.frst=function(){0<=k&&y(u,0);return 0};this.last=function(){y(u,d.length-1);return d.length-1};this.rand=function(){var a=Math.floor(Math.random()*(d.length-1));y(u,a);return a};this.data=function(a){a=null===a||void 0===a?k:parseInt(a,10);return isNaN(a)?d[k]:d[Math.floor(Math.max(0,Math.min(d.length-1,a)))]};this.scroll=function(a){null!==a&&void 0!==a&&(t=a);return t};
this.scrollTo=function(a,c){return x(a,c)};n[0].height=480;n[0].style.background=q.back;n[0].style.paddingLeft="170px";n[0].style.zIndex=0;n[0].style.position="absolute";c?c.appendChild(n[0]):document.body.appendChild(n[0]);window.setTimeout(w,q.rate,z);u=new Image;u.imaginaryID=-1;u.addEventListener("load",function(){d[this.imaginaryID].loaded?r.clearRect(0,0,this.width,this.height):d[this.imaginaryID].loaded=!0;v.run("slidn");n[1].width=this.width;n[1].height=n[0].height=this.height;r.drawImage(this,
0,0);l=0;t&&x();v.run("slidd")},!1);for(e=0;e<d.length;e++)d[e].d=e?e==d.length-1?1:0:-1,d[e].loaded=!1;for(e=0;e<h.irb;e++)m.push(new Image),m[e].imaginaryID=-1,m[e].addEventListener("load",a,!1);for(e=0;e<h.itb;e++)A.push(new Image),A[e].imaginaryID=-1,A[e].addEventListener("load",a,!1);y(u,h.startpage||g);n[1].height=480;n[1].width=640;n[1].background=h.back;n[1].style.zIndex=1;n[1].style.position="relative";c?c.appendChild(n[1]):document.body.appendChild(n[1])});a.stage=a.REPO.stage.def;a.queue.stageChange=
a.queue.stageChange||{};a.queue.stageChange.hotcontent=function(){for(var d=document.getElementsByClassName("cg-hot"),c=[],g=0;g<d.length;g++)c.push({place:d[g].parentNode,time:d[g]});for(;d.length;)(g=d[0].parentNode)&&g.removeChild(d[0]);for(d=0;d<c.length;d++)console.log("queued stuff",a.info.vrb,c[d]),(g=c[0].place)&&g.appendChild(c[d].time)};a.queue.stageChange.controller=function(a){for(var c,d,e,f,l,p=a.data().d,k=0;k<a.brains.length;k++){l=J(a.brains[k],["frst","last","prev","next","rand"]);
for(var q=0;q<l.length;q++){c=l[q];d=c.getAttribute("class");f=(e=a.brains[k].getAttribute("nohide"))?e:"disable";if(("frst"==d||"prev"==d)&&-1==p)"frst"==d?c.setAttribute("class","frst "+f):c.setAttribute("class","prev "+f),e||c.setAttribute("style","display:none;");else if(d=="frst "+f||d=="prev "+f)d=="frst "+f?c.setAttribute("class","frst"):c.setAttribute("class","prev"),e||c.setAttribute("style","display:inline;");if(("last"==d||"next"==d)&&1==p)"last"==d?c.setAttribute("class","last "+f):c.setAttribute("class",
"next "+f),e||c.setAttribute("style","display:none;");else if(d=="last "+f||d=="next "+f)d=="last "+f?c.setAttribute("class","last"):c.setAttribute("class","next"),e||c.setAttribute("style","display:inline;")}}};var t=function(a){return-1==a||""===a||void 0===a||null==a?!1:!0},w=function(a,c,g){var d;g=isNaN(g)?0:g;var f=c[a.nodeName.toLowerCase()];if(void 0!==f&&0>=g){if(void 0===f.count||0!=f.count){d=Object.keys(f);for(var l=0;l<d.length;l++)"count"!=d[l]&&("innerHTML"==d[l]?a.innerHTML=f[d[l]]:
a.setAttribute(d[l],f[d[l]]));0<f.count&&c[a.nodeType].count--}}else g--;for(d=0;d<a.children.length;d++)w(a.children[d],c,g)},x=function(a,c,g,e){var d=[function(a){if(void 0!==c||null!==c)return c.splice(a,0,this),this._pos=a},function(a){if(void 0!==c||null!==c){var d=c[this._pos];c[this._pos]=c[a];c[a]=d;return this._pos=a}},function(){if(void 0!==g||null!==g){g.at=this._pos;this._show();for(var a=this._pos,d=0;d<c.length;d++)this._pos!=d&&c[d]._hide();this._chain.length&&(a=[a]);for(d=0;d<this._chain.length;d++)this._chain[d]._show(),
a.push(d);return a}},function(){null===this.style.display||void 0===this.style.display?this.setAttribute("style",this.getAttribute("style")+"display: block;"):this.style.display="block";return this._pos},function(){null===this.style.display||void 0===this.style.display?this.setAttribute("style",this.getAttribute("style")+"display: none;"):this.style.display="none";return this._pos},function(){null===this.style.visibility||void 0===this.style.visibility?this.setAttribute("style",this.getAttribute("style")+
"visibility:hidden;"):this.style.visibility="hidden";return this._pos},function(){null===this.style.visibility||void 0===this.style.visibility?this.setAttribute("style",this.getAttribute("style")+"visibility: visible;"):this.style.visibility="visible";return this._pos},function(a){if(void 0!==c||null!==c)return this._chain.push(c[a]),a},function(a){if(void 0!==c||null!==c)return this._chain.splice(this._chain.indexOf(c[a]),1)},function(a){if(void 0!==c||null!==c)return this._chain.push(c[a]),c[a]._chain.push(this),
[a,this._pos]},function(a){if(void 0!==c||null!==c)return this._chain.splice(this._chain.indexOf(c[a]),1).concat(c[a]._chain.splice(c[a]._chain.indexOf(this._pos),1))}];a._order=d[0];a._switch=d[1];a._nav=d[2];a._show=d[3];a._hide=d[4];a._cloak=d[5];a._uncloak=d[6];a._link=d[7];a._unlink=d[8];a._bind=d[9];a._unbind=d[10];a._pos=e;a._chain=[];return a},J=function(a,c){for(var d=[],e,f=a.className.split(" "),l=0;l<f.length&&!(e=c.indexOf(f[l])+1);l++);e&&d.push(a);for(e=0;e<a.children.length;e++)d=
d.concat(J(a.children[e],c));return d},K=function(a,c,g,e){for(var d=0;d<c.children.length;d++)K(!0,c.children[d],g,e);a&&(a=void 0===g?"":g+"_",e=void 0===e?"":"_"+e,c.setAttribute("id",a+c.getAttribute("id")+e),""!==c.className&&(c.className=" "+a+c.className))};a.controlInjection=function(d){!a.documentcontrolkeyset&&a.fBox.arrow&&(a.documentcontrolkeyset=!0,document.onkeyup=function(c){c=c||window.event;a.comix.cnl();37==c.keyCode?a.comix.prev():39==c.keyCode?a.comix.next():82==c.keyCode&&a.comix.rand()},
document.onwheel=function(c){a.comix.cnl()});var c=a.ctrls?a.ctrls:'<ul><li style="display: inline;"><button class="frst" >|&lt;</button></li><li style="display: inline;"><button class="prev" rel="prev" accesskey="p">&lt; Prev</button></li><li style="display: inline;"><button class="rand" >Random</button></li><li style="display: inline;"><button class="next" rel="next" accesskey="n">Next &gt;</button></li><li style="display: inline;"><button class="last" >&gt;|</button></li></ul>',g,e=function(c,
d,e){var f=""+d.id,g=function(){var c=a.cPanel[f].data(a.cPanel[f].frst()),e=document.getElementById(f),g=document.getElementById(f+"_location"),h=[],k=[];g&&(g.title=c.hover);e&&e.getAttribute("comix")&&(h=document.getElementsByClassName("cgtitle"),k=document.getElementsByClassName("cgdate"));for(e=0;e<h.length;e++)h[e].innerHTML=c.title;for(e=0;e<k.length;e++)c=new Date(1E3*a.cPanel[d.id].data().release),k[e].innerHTML=c.toDateString()};c=document.getElementsByClassName(c);for(var h=0;h<c.length;h++)e.getAttribute("cglink")!=
f||c[h].getAttribute("cgae")||(c[h].addEventListener("click",g),c[h].setAttribute("cgae","1"))},f=function(c,d){c.setAttribute("mind","1");document.getElementById(c.id+"_location").title=a.cPanel[c.id].data().hover||"";for(var f=c.getAttribute("comix")?document.getElementsByClassName("cgtitle"):[],g=c.getAttribute("comix")?document.getElementsByClassName("cgdate"):[],h=0;h<f.length;h++)f[h].innerHTML=a.cPanel[c.id].data().title;for(h=0;h<g.length;h++)f=new Date(1E3*a.cPanel[c.id].data().release),
g[h].innerHTML=f.toDateString();["frst","prev","rand","next","last"].forEach(function(a){e(a,c,d)})},l=document.querySelectorAll("[cglink]"),p;d=document.getElementsByClassName("venue");for(var k=0;k<l.length;k++)p=l[k].getAttribute("cglink"),t(a.cPanel[p])&&(a.cPanel[p].brains=a.cPanel[p].brains||[],a.cPanel[p].brains.push(l[k]),f(document.getElementById(p),l[k]));for(l=0;l<d.length;l++)if(!d[l].getAttribute("mind")){var q=d[l];p=q.id;k=q.parentNode;q=q.nextSibling;g=document.createElement("DIV");
var h=a.script.config;g.innerHTML=(d[l].getAttribute("readdir")||h&&h.readdir)&&!a.ctrls?'<ul><li style="display: inline;"><button class="last" >&lt;|</button></li><li style="display: inline;"><button class="next" rel="next" accesskey="n">Next &lt;</button></li><li style="display: inline;"><button class="rand" >Random</button></li><li style="display: inline;"><button class="prev" rel="prev" accesskey="p">&gt; Prev</button></li><li style="display: inline;"><button class="frst" >|&gt;</button></li></ul>':
c;g=g.children[0];d[l].getAttribute("comix")?g.setAttribute("style","display:block;"):g.setAttribute("style","display:none;");g.setAttribute("cglink",p);k&&k.insertBefore(g,q);a.fBox.click&&(a.cPanel[p].canvi[1].style.cursor="pointer",a.cPanel[p].canvi[1].addEventListener("click",a.cPanel[p].next));a.cPanel[p].brains=a.cPanel[p].brains||[];a.cPanel[p].brains.push(g);f(d[l],g)}};a.stageInjection=function(){var d=document.getElementsByClassName("venue");t(a.recyclebin.air)&&(a.script.config.dir=a.recyclebin.air);
a.REPO.scReq.address=a.REPO.scReq.address||a.recyclebin.dir;for(var c in a.recyclebin)a.recyclebin.hasOwnProperty(c)&&null!==c&&(a.recyclebin[c]=null);var g=a.cPanel,e=a.decor?a.decor:'<div id="location"></div><div id="archive">Archive</div><div id="me">About Me</div>',f=[],l=function(c,e,f,p,m,u){if(!t(u))return u=e.getAttribute("script"),p.push(a.agent(u).then(function(a,d){l(c,e,f,p,m,JSON.stringify(a))},function(a,d){console.error(a,d.status);l(c,e,f,p,m,{})})),0;var h=e.getAttribute("id");e.getAttribute("use");
var k=e.getAttribute("config"),q={},v=document.createElement("DIV");v.setAttribute("id",h||f+"_"+c);v.setAttribute("style","display:none;");g[m+"_"+c]=a.stage.construct(h||f+"_"+c,u,v,k||q);d[c].appendChild(v);g[m].pg.push(v);g[m+"_"+c].my=c},p=function(c,q){a.fBox.noverwrite||(d[c].innerHTML="");var h,k={};if(t(q))h=q;else{var m=d[c].getAttribute("script");if(t(!m)||!c)h=a.script;else return f.push(a.agent(m).then(function(a,d){p(c,JSON.stringify(a))},function(a,d){console.error(a,d.status);p(c,
{})})),0}var m=h,u=m.config,r=m.pages,n=m.chapters,m=d[c].getAttribute("id"),B=d[c].getAttribute("use"),v=d[c].getAttribute("config");d[c].setAttribute("cgcij","1");if(!t(m)){for(var m="STG"+c,z=1;document.getElementById(m);)m="STG"+(c+z++);m=m.toString();d[c].setAttribute("id",m)}t(B)||(B="def");if(""!==v)try{k=JSON.parse(v)}catch(L){console.debug("The following configuration settings are malformed for plugin["+B+"]: ",v,"\nIt has been ignored")}var B=[],v=[],F=d[c].children;d[c].innerHTML=e;K(!1,
d[c],m);z=document.getElementById(m+"_location");t(z)?z=d[c]:w(d[c],{div:{style:"display: none;"}},1);z.style.display="block";var G=document.getElementById(m+"_archive");if(t(G)){var y="<ul>",E="<ul>",D="<ul>",H=0,I=0;u&&u.pagestartnum&&(I=1);u&&u.chapterstartnum&&(H=1);for(u=0;r&&u<r.length;u++)y=y+"<li onclick=\"cG.cPanel['"+m+"'].go("+u+");this.parentElement.parentElement.style.display='none';document.getElementById('"+m+"_location').style.display='block';\" style=\"display:block;\">"+(u+I)+"</li>";
for(r=0;n&&r<n.length;r++){E=E+"<li onclick=\"cG.cPanel['"+m+"'].ch_go("+r+");this.parentElement.parentElement.style.display='none';document.getElementById('"+m+"_location').style.display='block';\" style=\"display:block;\">"+(r+H)+"</li>";D=D+"<li onclick=\"cG.cPanel['"+m+"'].ch_go("+r+");this.parentElement.parentElement.style.display='none';document.getElementById('"+m+"_location').style.display='block';\" style=\"display:block;\">"+(r+H)+"<ul>";for(u=n[r].start;u<n[r].end+1;u++)D=D+"<li onclick=\"cG.cPanel['"+
m+"'].go("+u+");this.parentElement.parentElement.parentElement.style.display='none';document.getElementById('"+m+"_location').style.display='block';\" style=\"display:block;\">"+(u+I)+"</li>";D+="</ul></li>"}y+="</ul>";E+="</ul>";D+="</ul>";t(G.innerHTML)&&(G.innerHTML=D+y+E)}for(n=0;n<F.length;n++)"venue"==F[n].getAttribute("class")?B.push(F[n]):v.push(F[n]);n=m;g[n]=a.stage.construct(m,h,z,k);a.fBox.protect?d[c].getAttribute("id")==a.comix.name&&d[c].setAttribute("comix","1"):d[c].setAttribute("comix",
"-1");k=d[c].children;for(h=1;h<k.length;h++)k[h]!=z&&g[n].pg.push(k[h]);for(u=0;u<v.length;u++)v[u].style.display="none",d[c].appendChild(v[u]),g[n].pg.push(v[u]);k=[];for(h=0;h<B.length;h++)l(h,B[h],m,k,n);for(k=0;k<g[n].pg.length;k++)x(g[n].pg[k],g[n].pg,g[n],k)};for(c=0;c<d.length;c++)1!=!d[c].getAttribute("cgcij")&&a.fBox.noverwrite||p(c);a.cPanel=g;a.controlInjection(d);return g};a.route2page=a.route2page||function(){if(!a.fBox.rtepge)return 0;console.log("Routing is currently Disabled");return 0};
a.director.map("#/:v1(/:v2/:v3/:v4/:v5/:v6/:v7/:v8/:v9)").to(a.route2page);a.rdy(function(){a.director.listen();document.getElementById("$COMICXX$$$")||console.log("%c %c %c comix-ngn v"+a.info.vix+" %c \u262f %c \u00a9 2015 Oluwaseun Ogedengbe %c Plugins: "+a.$GPC,"color:white; background:#2EB531","background:purple","color:white; background:#32E237","color:red; background:black","color:white; background:#2EB531","color:white; background:purple");for(var d=document.getElementsByTagName("SCRIPT"),
c,g=0;g<d.length;g++)if(void 0!=d[g].getAttribute("src")&&0<=d[g].getAttribute("src").indexOf("comixngn")){c=d[g].getAttribute("auto");break}(null===c||c||void 0===c||""==c)&&a.fBox.fstrun&&a.stageInjection()});window.cG=a})();
